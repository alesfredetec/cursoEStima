<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase 2: M√©todos de Estimaci√≥n (Versi√≥n Profesor)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            overflow: hidden;
            height: 100vh;
        }

        .background-gradient {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            opacity: 0.1;
        }

        /* Main Layout: 70/30 Split */
        .main-container {
            display: flex;
            width: 100%;
            height: 100vh;
        }

        .slide-area {
            width: 70%;
            height: 100vh;
            position: relative;
        }

        .sidebar {
            width: 30%;
            height: 100vh;
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(20px);
            border-left: 1px solid rgba(102, 126, 234, 0.3);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        .sidebar.hidden {
            transform: translateX(100%);
        }

        /* Sidebar Header */
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.2));
        }

        .sidebar-title {
            font-size: 1.1rem;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .sidebar-duration {
            font-size: 0.9rem;
            color: #a0a0a0;
        }

        /* Sidebar Body */
        .sidebar-body {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .sidebar-body::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar-body::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        .sidebar-body::-webkit-scrollbar-thumb {
            background: rgba(102, 126, 234, 0.5);
            border-radius: 3px;
        }

        .speech-content {
            font-size: 1rem;
            line-height: 1.8;
            color: #d0d0d0;
            white-space: pre-wrap;
        }

        /* Visual Markers */
        .marker {
            display: inline-block;
            padding: 2px 8px;
            margin: 0 4px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .marker-pausa {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border: 1px solid rgba(255, 193, 7, 0.4);
        }

        .marker-enfasis {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            border: 1px solid rgba(255, 107, 107, 0.4);
        }

        .marker-transicion {
            background: rgba(81, 207, 102, 0.2);
            color: #51cf66;
            border: 1px solid rgba(81, 207, 102, 0.4);
        }

        .marker-leer {
            background: rgba(102, 126, 234, 0.2);
            color: #667eea;
            border: 1px solid rgba(102, 126, 234, 0.4);
        }

        .marker-preguntas {
            background: rgba(118, 75, 162, 0.2);
            color: #764ba2;
            border: 1px solid rgba(118, 75, 162, 0.4);
        }

        /* Sidebar Footer (TTS Controls) */
        .sidebar-footer {
            padding: 15px 20px;
            border-top: 1px solid rgba(102, 126, 234, 0.2);
            background: rgba(20, 20, 20, 0.9);
        }

        .tts-label {
            font-size: 0.85rem;
            color: #a0a0a0;
            margin-bottom: 10px;
            display: block;
        }

        .tts-controls {
            display: flex;
            gap: 8px;
            margin-bottom: 10px;
        }

        .tts-btn {
            flex: 1;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
        }

        .tts-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .tts-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .tts-btn.active {
            background: rgba(81, 207, 102, 0.15);
            border-color: #51cf66;
            color: #51cf66;
        }

        .speed-controls {
            display: flex;
            gap: 5px;
        }

        .speed-btn {
            flex: 1;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.7);
            padding: 4px 6px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }

        .speed-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
        }

        .speed-btn.active {
            background: rgba(118, 75, 162, 0.2);
            border-color: #764ba2;
            color: #ffffff;
            font-weight: 500;
        }

        /* Voice Selector Dropdown */
        .voice-selector {
            width: 100%;
            background: rgba(30, 30, 40, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: #ffffff;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            margin-bottom: 10px;
            transition: all 0.2s ease;
        }

        .voice-selector:hover {
            background: rgba(30, 30, 40, 0.8);
            border-color: rgba(255, 255, 255, 0.25);
        }

        .voice-selector option {
            background: #1a1a2e;
            color: #ffffff;
            padding: 6px;
        }

        /* Toggle Sidebar Button */
        .toggle-sidebar-btn {
            position: fixed;
            top: 70px;
            right: 20px;
            background: rgba(102, 126, 234, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(102, 126, 234, 0.5);
            color: #ffffff;
            padding: 10px 16px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            z-index: 200;
        }

        .toggle-sidebar-btn:hover {
            background: rgba(102, 126, 234, 0.5);
            transform: translateY(-2px);
        }

        /* Original Slide Styles */
        .slide-container {
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 80px 40px 120px 40px;
            position: relative;
        }

        .slide {
            display: none;
            width: 100%;
            max-width: 1200px;
            animation: fadeIn 0.5s ease-out;
        }

        .slide.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-content {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }

        .slide-content::-webkit-scrollbar {
            width: 8px;
        }

        .slide-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .slide-content::-webkit-scrollbar-thumb {
            background: rgba(102, 126, 234, 0.5);
            border-radius: 10px;
        }

        .slide-content::-webkit-scrollbar-thumb:hover {
            background: rgba(102, 126, 234, 0.8);
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            line-height: 1.2;
        }

        h2 {
            font-size: 2.5rem;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 25px;
        }

        h3 {
            font-size: 1.8rem;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 20px;
        }

        p, li {
            font-size: 1.3rem;
            line-height: 1.8;
            color: #d0d0d0;
            margin-bottom: 15px;
        }

        ul {
            list-style: none;
            padding-left: 0;
        }

        li {
            padding: 15px 0;
            padding-left: 40px;
            position: relative;
        }

        li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
            font-size: 1.5rem;
        }

        .formula {
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.5rem;
            text-align: center;
            color: #667eea;
        }

        .highlight {
            color: #764ba2;
            font-weight: 600;
        }

        .instructor-info {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px 20px;
            font-size: 0.9rem;
            color: #c0c0c0;
            z-index: 100;
        }

        .instructor-info strong {
            color: #667eea;
        }

        .controls {
            position: fixed;
            bottom: 30px;
            left: 35%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 100;
        }

        .btn {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: rgba(102, 126, 234, 0.3);
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            width: 70%;
            background: rgba(102, 126, 234, 0.2);
            z-index: 100;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .slide-counter {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(100%);
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 0.9rem;
            color: #c0c0c0;
            z-index: 100;
        }

        .home-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(102, 126, 234, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(102, 126, 234, 0.4);
            color: #ffffff;
            padding: 12px 24px;
            border-radius: 12px;
            text-decoration: none;
            font-size: 1rem;
            transition: all 0.3s ease;
            z-index: 100;
        }

        .home-btn:hover {
            background: rgba(102, 126, 234, 0.4);
            transform: translateY(-2px);
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 25px;
        }

        .box {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 25px;
        }

        .workshop {
            background: rgba(118, 75, 162, 0.1);
            border: 2px solid rgba(118, 75, 162, 0.4);
            border-radius: 20px;
            padding: 30px;
            margin: 25px 0;
        }

        .workshop h3 {
            color: #764ba2;
            margin-bottom: 20px;
        }

        .emoji {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        th {
            background: rgba(102, 126, 234, 0.2);
            color: #667eea;
            font-weight: 600;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-container {
                flex-direction: column;
            }

            .slide-area {
                width: 100%;
                height: 70vh;
            }

            .sidebar {
                width: 100%;
                height: 30vh;
                border-left: none;
                border-top: 1px solid rgba(102, 126, 234, 0.3);
            }

            .sidebar.hidden {
                transform: translateY(100%);
            }

            .controls {
                left: 50%;
            }

            .progress-bar {
                width: 100%;
            }

            .two-column {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .slide-container {
                padding: 70px 20px 100px 20px;
            }

            .slide-content {
                padding: 25px;
                max-height: calc(70vh - 170px);
            }

            h1 {
                font-size: 2.5rem;
            }

            h2 {
                font-size: 2rem;
            }

            p, li {
                font-size: 1.1rem;
            }
        }
    </style>
    <!-- Load external configuration (API keys, etc.) with fallback -->
    <script>
        // Initialize CONFIG as empty object if config.js doesn't load
        window.CONFIG = window.CONFIG || { OPENAI_API_KEY: '' };
    </script>
    <script src="config.js" onerror="console.warn('config.js not found - OpenAI TTS disabled')"></script>
</head>
<body>
    <div class="background-gradient"></div>

    <div class="main-container">
        <!-- Left Side: Slides (70%) -->
        <div class="slide-area">
            <div class="progress-bar">
                <div class="progress-bar-fill" id="progressBar"></div>
            </div>

            <div class="instructor-info">
                <strong>Alejandro Sfrede</strong> - √Årea de Arquitectura
            </div>

            <a href="index.html" class="home-btn">üè† Portal</a>
            <button class="toggle-sidebar-btn" id="toggleSidebar" onclick="toggleSidebar()">üìù Speech</button>

            <div class="slide-counter" id="slideCounter">1 / 21</div>

            <div class="slide-container">
        <!-- Slide 1: Portada -->
        <div class="slide active">
            <div class="slide-content">
                <h1>Clase 2:<br>M√©todos de Estimaci√≥n</h1>
                <h2>Tradicionales y √Ågiles</h2>
                <p style="font-size: 1.5rem; margin-top: 40px;">
                    <span class="highlight">Dia:</span> 2<br>
                    <span class="highlight">Objetivo:</span> Dominar m√©todos cl√°sicos y √°giles de estimaci√≥n
                </p>
                <p style="margin-top: 30px; font-size: 1.2rem; color: #a0a0a0;">
                    Presiona ‚Üí o ESPACIO para continuar
                </p>
            </div>
        </div>

        <!-- Slide 2: Agenda -->
        <div class="slide">
            <div class="slide-content">
                <h2>üìã Agenda de la Clase</h2>
                <ul style="font-size: 1.4rem;">
                    <li>M√©todos Cl√°sicos: PERT y CPM  </li>
                    <li>Estimaci√≥n √Ågil: T-Shirt Sizing y Story Points  </li>
                  
                    <li>Planning Poker: Demostraci√≥n y An√°lisis Detallado  </li>
                    <li>Velocidad, Refinamiento Progresivo y Mejores Pr√°cticas  </li>
                    <li>S√≠ntesis y Cuadro Comparativo  </li>
                </ul>
            </div>
        </div>

        <!-- Slide 3: Intro PERT -->
        <div class="slide">
            <div class="slide-content">
                <h2>üìä PERT: Estimaci√≥n de 3 Puntos</h2>
                <p style="font-size: 1.4rem; margin-bottom: 30px;">
                    <strong>Program Evaluation and Review Technique</strong><br>
                    Primer intento matem√°tico de gestionar la incertidumbre de las tareas
                </p>
                <h3>Los 3 Puntos de Datos:</h3>
                <div class="three-column">
                    <div class="box" style="background: rgba(81, 207, 102, 0.1); border-color: rgba(81, 207, 102, 0.3);">
                        <h3 style="color: #51cf66; text-align: center;">O</h3>
                        <p style="text-align: center;"><strong>Optimista</strong></p>
                        <p style="text-align: center; font-size: 1.1rem;">El mejor escenario posible</p>
                    </div>
                    <div class="box" style="background: rgba(255, 193, 7, 0.1); border-color: rgba(255, 193, 7, 0.3);">
                        <h3 style="color: #ffc107; text-align: center;">M</h3>
                        <p style="text-align: center;"><strong>M√°s Probable</strong></p>
                        <p style="text-align: center; font-size: 1.1rem;">El escenario realista</p>
                    </div>
                    <div class="box" style="background: rgba(255, 107, 107, 0.1); border-color: rgba(255, 107, 107, 0.3);">
                        <h3 style="color: #ff6b6b; text-align: center;">P</h3>
                        <p style="text-align: center;"><strong>Pesimista</strong></p>
                        <p style="text-align: center; font-size: 1.1rem;">El peor escenario ("Ley de Murphy")</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: F√≥rmulas PERT -->
        <div class="slide">
            <div class="slide-content">
                <h2>üßÆ F√≥rmulas PERT</h2>
                <h3>1. Duraci√≥n Esperada</h3>
                <p>Con los tres puntos, calculamos una media ponderada (distribuci√≥n Beta):</p>
                <div class="formula">
                    Duraci√≥n Esperada = (O + 4M + P) / 6
                </div>
                <p style="text-align: center; color: #a0a0a0; margin-bottom: 40px;">
                    La f√≥rmula da m√°s peso (4x) a la estimaci√≥n "M√°s Probable"
                </p>

                <h3>2. Desviaci√≥n Est√°ndar (Incertidumbre)</h3>
                <p>Mide cu√°n incierta es la tarea:</p>
                <div class="formula">
                    SD = (P - O) / 6
                </div>
                <p style="text-align: center; color: #a0a0a0;">
                    Un rango amplio (P - O) significa ALTA incertidumbre<br>
                    Es, en efecto, una medida num√©rica del "Cono de Incertidumbre"
                </p>
            </div>
        </div>

        <!-- Slide 5: Ejemplo PERT -->
        <div class="slide">
            <div class="slide-content">
                <h2>üí° Ejemplo Pr√°ctico PERT</h2>
                <div class="box">
                    <h3>Tarea: Migrar base de datos a la nube</h3>
                    <div style="margin: 30px 0; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 10px;">
                        <p style="font-size: 1.4rem;">
                            <strong style="color: #51cf66;">O (Optimista):</strong> 5 d√≠as<br>
                            <strong style="color: #ffc107;">M (M√°s Probable):</strong> 10 d√≠as<br>
                            <strong style="color: #ff6b6b;">P (Pesimista):</strong> 25 d√≠as
                        </p>
                    </div>
                    <h3 style="margin-top: 30px;">C√°lculos:</h3>
                    <div class="formula" style="text-align: left; font-size: 1.3rem;">
                        Duraci√≥n Esperada = (5 + 4√ó10 + 25) / 6<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= (5 + 40 + 25) / 6<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 70 / 6 = 11.67 d√≠as ‚âà 12 d√≠as
                    </div>
                    <div class="formula" style="text-align: left; font-size: 1.3rem;">
                        SD = (25 - 5) / 6 = 20 / 6 = 3.33 d√≠as
                    </div>
                    <p style="margin-top: 20px; text-align: center; font-size: 1.2rem; color: #667eea;">
                        üìä Estimaci√≥n final: <strong>12 d√≠as ¬± 3.3 d√≠as</strong>
                    </p>
                </div>
            </div>
        </div>

        <!-- Slide 6: CPM Introducci√≥n -->
        <div class="slide">
            <div class="slide-content">
                <h2>üõ§Ô∏è CPM: Critical Path Method</h2>
                <p style="font-size: 1.4rem; margin-bottom: 30px;">
                    T√©cnica que identifica la <span class="highlight">secuencia de tareas dependientes m√°s larga</span><br>
                    Esta secuencia determina la duraci√≥n TOTAL del proyecto
                </p>
                <div class="two-column">
                    <div class="box">
                        <h3>Conceptos Clave</h3>
                        <ul style="font-size: 1.2rem;">
                            <li><strong>Ruta Cr√≠tica:</strong> Secuencia m√°s larga</li>
                            <li><strong>Holgura (Slack):</strong> Tiempo que una tarea NO cr√≠tica puede retrasarse</li>
                            <li>Tareas cr√≠ticas tienen holgura = 0</li>
                        </ul>
                    </div>
                    <div class="box" style="background: rgba(255, 107, 107, 0.1); border-color: rgba(255, 107, 107, 0.3);">
                        <h3 style="color: #ff6b6b;">‚ö†Ô∏è Defectos de CPM</h3>
                        <ul style="font-size: 1.2rem;">
                            <li>La holgura es vulnerable a Parkinson</li>
                            <li>Asume recursos ILIMITADOS</li>
                            <li>Ignora cuellos de botella de recursos</li>
                        </ul>
                    </div>
                </div>
                <p style="margin-top: 30px; text-align: center; font-size: 1.3rem; color: #a0a0a0;">
                    CPM es matem√°ticamente correcto, pero psicol√≥gicamente ingenuo
                </p>
            </div>
        </div>

        <!-- Slide 7: Estimaci√≥n √Ågil Intro -->
        <div class="slide">
            <div class="slide-content">
                <h2>üöÄ Estimaci√≥n √Ågil: El Cambio de Paradigma</h2>
                <div style="padding: 40px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); border: 2px solid #667eea; border-radius: 20px;">
                    <h3 style="text-align: center; color: #667eea;">Del Tiempo Absoluto al Tama√±o Relativo</h3>
                    <div class="two-column" style="margin-top: 30px;">
                        <div>
                            <h3 style="color: #ff6b6b;">‚ùå Estimaci√≥n Absoluta</h3>
                            <p>Unidades de <strong>tiempo</strong> (horas, d√≠as)</p>
                            <ul style="font-size: 1.1rem;">
                                <li>Extremadamente dif√≠cil</li>
                                <li>Propenso a errores</li>
                                <li>Consume mucho tiempo</li>
                                <li>Fomenta el conflicto (padding)</li>
                            </ul>
                        </div>
                        <div>
                            <h3 style="color: #51cf66;">‚úÖ Estimaci√≥n Relativa</h3>
                            <p>Estimar el <strong>tama√±o</strong> comparando con otras tareas</p>
                            <ul style="font-size: 1.1rem;">
                                <li>M√°s intuitivo</li>
                                <li>Menos propenso a errores</li>
                                <li>R√°pido</li>
                                <li>Reduce conflictos</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <p style="margin-top: 30px; text-align: center; font-size: 1.3rem;">
                    "Esta tarea (B) es <strong>el doble de grande</strong> que aquella (A)"
                </p>
            </div>
        </div>

        <!-- Slide 8: T-Shirt Sizing -->
        <div class="slide">
            <div class="slide-content">
                <h2>üëï T√©cnica 1: T-Shirt Sizing</h2>
                <p style="font-size: 1.4rem; margin-bottom: 30px;">
                    M√©todo r√°pido de estimaci√≥n relativa de alto nivel
                </p>
                <div class="fibonacci" style="justify-content: space-between;">
                    <div class="fib-card" style="min-width: 100px; font-size: 1.2rem;">XS</div>
                    <div class="fib-card" style="min-width: 100px; font-size: 1.4rem;">S</div>
                    <div class="fib-card" style="min-width: 100px; font-size: 1.6rem;">M</div>
                    <div class="fib-card" style="min-width: 100px; font-size: 1.8rem;">L</div>
                    <div class="fib-card" style="min-width: 100px; font-size: 2rem;">XL</div>
                    <div class="fib-card" style="min-width: 100px; font-size: 2.2rem;">XXL</div>
                </div>
                <h3 style="margin-top: 30px;">Caracter√≠sticas:</h3>
                <ul style="font-size: 1.3rem;">
                    <li><strong>Uso com√∫n:</strong> Roadmaps trimestrales, estimaci√≥n de Epics</li>
                    <li><strong>Ventaja:</strong> R√°pido e intuitivo para todos</li>
                    <li><strong>Multidimensional:</strong> Combina alcance, esfuerzo, complejidad y tiempo</li>
                    <li><strong>Objetivo:</strong> Obtener "rango de magnitud" sin debates num√©ricos</li>
                </ul>
            </div>
        </div>

        <!-- Slide 9: Story Points -->
        <div class="slide">
            <div class="slide-content">
                <h2>üî¢ T√©cnica 2: Story Points</h2>
                <p style="font-size: 1.4rem; margin-bottom: 30px;">
                    La unidad de estimaci√≥n relativa m√°s com√∫n en <strong>Scrum</strong>
                </p>
                <div class="box">
                    <h3>¬øQu√© es un Story Point?</h3>
                    <p style="font-size: 1.2rem;">Un n√∫mero abstracto que combina:</p>
                    <div class="three-column" style="margin-top: 20px;">
                        <div style="text-align: center;">
                            <p class="emoji" style="font-size: 2rem;">üí™</p>
                            <p><strong>Esfuerzo</strong></p>
                            <p style="font-size: 1rem;">Cu√°nto trabajo</p>
                        </div>
                        <div style="text-align: center;">
                            <p class="emoji" style="font-size: 2rem;">üß©</p>
                            <p><strong>Complejidad</strong></p>
                            <p style="font-size: 1rem;">Cu√°n dif√≠cil</p>
                        </div>
                        <div style="text-align: center;">
                            <p class="emoji" style="font-size: 2rem;">‚ùì</p>
                            <p><strong>Incertidumbre</strong></p>
                            <p style="font-size: 1rem;">Cu√°ntas inc√≥gnitas</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 10: Fibonacci -->
        <div class="slide">
            <div class="slide-content">
                <h2>üåÄ La Secuencia de Fibonacci</h2>
                <p style="font-size: 1.4rem; margin-bottom: 30px;">
                    Story Points NO usan escala lineal. Usan Fibonacci:
                </p>
                <div class="fibonacci">
                    <div class="fib-card">0</div>
                    <div class="fib-card">1</div>
                    <div class="fib-card">2</div>
                    <div class="fib-card">3</div>
                    <div class="fib-card">5</div>
                    <div class="fib-card">8</div>
                    <div class="fib-card">13</div>
                    <div class="fib-card">21</div>
                </div>
                <div style="margin-top: 40px; padding: 30px; background: rgba(102, 126, 234, 0.1); border: 2px solid #667eea; border-radius: 15px;">
                    <h3 style="color: #667eea;">¬øPor qu√© Fibonacci y no 1,2,3,4,5...?</h3>
                    <ul style="font-size: 1.2rem;">
                        <li>La escala nos <strong>obliga a reconocer la incertidumbre</strong></li>
                        <li>Diferencia entre 1 y 2 es peque√±a (certeza alta)</li>
                        <li>Diferencia entre 13 y 21 es ENORME (incertidumbre alta)</li>
                        <li>Si dudas entre 13 y 21, est√°s admitiendo ALTA incertidumbre</li>
                        <li>Captura la esencia del Cono: A mayor tama√±o, menor certeza</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 11: Break -->
        <div class="slide">
            <div class="slide-content" style="text-align: center;">
                <p class="emoji">‚òï</p>
                <h2>Preguntas ? </h2>
                <p style="font-size: 1.4rem; margin-top: 30px; color: #a0a0a0;">
                    Pr√≥ximo: Taller de Planning Poker  
                </p>
            </div>
        </div>

        <!-- Slide 12: Planning Poker Intro -->
        <div class="slide">
            <div class="slide-content">
                <h2>üé¥ Planning Poker</h2>
                <p style="font-size: 1.4rem; margin-bottom: 30px;">
                    M√©todo de <span class="highlight">consenso colaborativo</span> para asignar Story Points
                </p>
                <div class="box" style="background: rgba(118, 75, 162, 0.1); border-color: rgba(118, 75, 162, 0.3);">
                    <p class="emoji" style="text-align: center;">üéØ</p>
                    <h3 style="color: #764ba2; text-align: center;">Objetivo Central</h3>
                    <p style="font-size: 1.3rem; text-align: center;">
                        El objetivo NO es obtener un n√∫mero exacto.<br>
                        Es generar <strong>CONSENSO</strong> basado en <strong>DISCUSI√ìN</strong>
                        y exposici√≥n de <strong>SUPOSICIONES OCULTAS</strong>
                    </p>
                </div>
                <h3 style="margin-top: 30px;">Elementos Clave del Proceso:</h3>
                <ul style="font-size: 1.3rem;">
                    <li>Votaci√≥n <strong>simult√°nea y an√≥nima</strong> (evita anclaje)</li>
                    <li>Discusi√≥n de <strong>estimaciones extremas</strong> (identificaci√≥n de riesgos)</li>
                    <li>Re-votaci√≥n tras aprendizaje colectivo</li>
                    <li>Cartas con secuencia Fibonacci (refleja incertidumbre)</li>
                </ul>
            </div>
        </div>

        <!-- Slide 13: Caso de Estudio - Backlog -->
        <div class="slide">
            <div class="slide-content">
                <h2>üìã Caso de Estudio: Backlog de Autenticaci√≥n</h2>
                <p style="font-size: 1.3rem; margin-bottom: 20px;">
                    Vamos a analizar c√≥mo un equipo real estima estas historias de usuario:
                </p>
                <table style="font-size: 1rem;">
                    <thead>
                        <tr>
                            <th style="width: 10%;">ID</th>
                            <th>Historia de Usuario</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>HU-1</strong></td>
                            <td><em>Como usuario nuevo, quiero poder registrarme con mi email y contrase√±a, para poder acceder al sistema.</em></td>
                        </tr>
                        <tr style="background: rgba(81, 207, 102, 0.1);">
                            <td><strong>HU-2</strong></td>
                            <td><em>Como usuario registrado, quiero poder iniciar sesi√≥n, para ver mi panel de control.</em> <span style="color: #51cf66;">‚Üê Referencia: 3 puntos</span></td>
                        </tr>
                        <tr>
                            <td><strong>HU-3</strong></td>
                            <td><em>Como usuario que olvid√≥ su contrase√±a, quiero poder solicitar un enlace de reseteo por email, para recuperar el acceso.</em></td>
                        </tr>
                        <tr>
                            <td><strong>HU-4</strong></td>
                            <td><em>Como administrador, quiero un reporte de todos los usuarios registrados en el √∫ltimo mes, para analizar el crecimiento.</em></td>
                        </tr>
                        <tr>
                            <td><strong>HU-5</strong></td>
                            <td><em>Como usuario, quiero poder pagar mi suscripci√≥n con tarjeta de cr√©dito, para acceder al contenido premium.</em></td>
                        </tr>
                    </tbody>
                </table>
                <p style="margin-top: 20px; text-align: center; font-size: 1.2rem; color: #667eea;">
                    HU-2 (Login) ya fue completada en sprint anterior ‚Üí sirve como <strong>l√≠nea base</strong>
                </p>
            </div>
        </div>

        <!-- Slide 14: Proceso Planning Poker -->
        <div class="slide">
            <div class="slide-content">
                <h2>üéØ Proceso de Planning Poker (Paso a Paso)</h2>
                <div class="box" style="padding: 30px;">
                    <h3 style="color: #667eea;">1. Establecer L√≠nea Base</h3>
                    <p>Product Owner presenta HU-2 (Login). Todos acuerdan: "Esto es un <strong>3</strong>"</p>
                </div>
                <div class="box" style="padding: 30px; margin-top: 20px;">
                    <h3 style="color: #667eea;">2. Presentar Historia</h3>
                    <p>PO lee HU-3 (Reseteo de Contrase√±a) y explica el objetivo</p>
                </div>
                <div class="box" style="padding: 30px; margin-top: 20px;">
                    <h3 style="color: #667eea;">3. Clarificar Dudas</h3>
                    <p>Equipo hace preguntas: "¬øEl enlace caduca?" "¬øSe valida el email?"</p>
                </div>
                <div class="box" style="padding: 30px; margin-top: 20px;">
                    <h3 style="color: #667eea;">4. Votar Simult√°neamente</h3>
                    <p>Facilitador: "1, 2, 3... ¬°Voten!" Todos eligen carta y ponen boca abajo</p>
                </div>
            </div>
        </div>

        <!-- Slide 15: El Coraz√≥n del Taller -->
        <div class="slide">
            <div class="slide-content">
                <h2>üí¨ La Discusi√≥n: El Coraz√≥n del Taller</h2>
                <p style="font-size: 1.4rem; margin-bottom: 30px;">
                    Todos revelan cartas <strong>SIMULT√ÅNEAMENTE</strong>: 3, 5, 5, 8, 13
                </p>
                <div class="workshop">
                    <h3>Facilitador NO promedia. Pide a los EXTREMOS que justifiquen:</h3>
                    <div style="margin-top: 30px; padding: 25px; background: rgba(255, 107, 107, 0.1); border: 2px solid rgba(255, 107, 107, 0.3); border-radius: 10px;">
                        <p style="font-size: 1.2rem;">
                            <strong style="color: #ff6b6b;">Facilitador al que vot√≥ 13:</strong><br>
                            "¬øQu√© riesgo o complejidad ve que los dem√°s no vieron?"
                        </p>
                        <p style="margin-top: 20px; font-size: 1.1rem; font-style: italic;">
                            "Esto implica enviar email, generar token √∫nico, almacenar token,
                            validar expiraci√≥n, construir p√°gina de reseteo. <strong>Hay mucha incertidumbre.</strong>"
                        </p>
                    </div>
                    <div style="margin-top: 20px; padding: 25px; background: rgba(81, 207, 102, 0.1); border: 2px solid rgba(81, 207, 102, 0.3); border-radius: 10px;">
                        <p style="font-size: 1.2rem;">
                            <strong style="color: #51cf66;">Facilitador al que vot√≥ 3:</strong><br>
                            "¬øPor qu√© piensa que es igual de simple que el login?"
                        </p>
                        <p style="margin-top: 20px; font-size: 1.1rem; font-style: italic;">
                            "Ah, no hab√≠a pensado en la generaci√≥n del token ni en el servicio de email.
                            Solo pens√© en el formulario."
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 16: Re-votaci√≥n -->
        <div class="slide">
            <div class="slide-content">
                <h2>üîÑ Re-votaci√≥n y Consenso</h2>
                <div style="padding: 40px; background: rgba(102, 126, 234, 0.1); border: 2px solid #667eea; border-radius: 20px;">
                    <p style="font-size: 1.5rem; text-align: center; margin-bottom: 30px;">
                        "OK, hemos <strong>APRENDIDO</strong> algo. Volvamos a votar."
                    </p>
                    <div class="two-column">
                        <div>
                            <h3 style="color: #667eea; text-align: center;">Primera Votaci√≥n</h3>
                            <p style="text-align: center; font-size: 2rem; margin: 20px 0;">3, 5, 5, 8, 13</p>
                            <p style="text-align: center; color: #ff6b6b;">Sin consenso</p>
                        </div>
                        <div>
                            <h3 style="color: #667eea; text-align: center;">Segunda Votaci√≥n</h3>
                            <p style="text-align: center; font-size: 2rem; margin: 20px 0;">8, 5, 8, 8, 5</p>
                            <p style="text-align: center; color: #51cf66;">Convergiendo...</p>
                        </div>
                    </div>
                    <div style="margin-top: 40px; padding: 25px; background: rgba(81, 207, 102, 0.1); border-radius: 10px; text-align: center;">
                        <p style="font-size: 1.8rem; color: #51cf66; font-weight: 600;">
                            ‚úÖ Tras breve discusi√≥n final: Todos acuerdan un <strong>8</strong>
                        </p>
                    </div>
                </div>
                <p style="margin-top: 30px; text-align: center; font-size: 1.3rem; color: #a0a0a0;">
                    Se asigna 8 a HU-3 y se pasa a la siguiente historia
                </p>
            </div>
        </div>

        <!-- Slide 17: Debriefing Planning Poker -->
        <div class="slide">
            <div class="slide-content">
                <h2>üí° Debriefing: Lecciones del Planning Poker</h2>
                <div style="padding: 40px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); border: 2px solid #667eea; border-radius: 20px;">
                    <h3 style="color: #667eea; text-align: center; margin-bottom: 30px;">
                        El objetivo NO era el n√∫mero (el 8)
                    </h3>
                    <h3 style="text-align: center; font-size: 2rem; color: #ffffff;">
                        Era la CONVERSACI√ìN que ocurri√≥ entre el 13 y el 3
                    </h3>
                </div>
                <h3 style="margin-top: 40px;">¬øPor qu√© funciona Planning Poker?</h3>
                <ul style="font-size: 1.3rem;">
                    <li><strong>Votaci√≥n an√≥nima y simult√°nea:</strong> Previene anclaje (junior no copia a senior)</li>
                    <li><strong>Exposici√≥n de suposiciones:</strong> El "13" vio el riesgo del token que otros no vieron</li>
                    <li><strong>Identificaci√≥n temprana de riesgos:</strong> Descubrimos complejidades ocultas</li>
                    <li><strong>Construcci√≥n de consenso:</strong> Todo el equipo entiende y acuerda</li>
                    <li><strong>Aprendizaje colectivo:</strong> El conocimiento se distribuye</li>
                </ul>
            </div>
        </div>

        <!-- Slide 18: Velocidad -->
        <div class="slide">
            <div class="slide-content">
                <h2>üìà Velocidad: De Points a Forecasting</h2>
                <p style="font-size: 1.4rem; margin-bottom: 30px;">
                    Una vez que el equipo estima en Story Points, puede calcular su <span class="highlight">VELOCIDAD</span>
                </p>
                <div class="box">
                    <h3>¬øQu√© es Velocidad?</h3>
                    <p style="font-size: 1.3rem;">
                        Cantidad de Story Points que el equipo completa <strong>por Sprint</strong>
                    </p>
                    <div style="margin: 30px 0; padding: 25px; background: rgba(102, 126, 234, 0.1); border-radius: 10px;">
                        <p style="text-align: center; font-size: 1.5rem;">
                            <strong>Ejemplo:</strong><br>
                            Sprint 1: 23 puntos completados<br>
                            Sprint 2: 27 puntos completados<br>
                            Sprint 3: 25 puntos completados<br><br>
                            <span style="color: #667eea; font-size: 1.8rem;">Velocidad promedio = 25 puntos/sprint</span>
                        </p>
                    </div>
                    <h3>¬øPara qu√© sirve?</h3>
                    <ul style="font-size: 1.2rem;">
                        <li><strong>Forecasting:</strong> "Tenemos 150 puntos en backlog ‚Üí 6 sprints"</li>
                        <li><strong>Compromiso realista:</strong> Solo comprometer lo que hist√≥ricamente completan</li>
                        <li><strong>Mejora continua:</strong> Identificar si la velocidad mejora o empeora</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 19: Flujo de Refinamiento -->
        <div class="slide">
            <div class="slide-content">
                <h2>üîÑ Flujo de Refinamiento Progresivo</h2>
                <p style="font-size: 1.4rem; margin-bottom: 30px;">
                    Una pr√°ctica experta combina T-Shirt Sizing y Story Points:
                </p>
                <div style="padding: 30px; background: rgba(255, 255, 255, 0.03); border: 2px solid rgba(102, 126, 234, 0.3); border-radius: 15px;">
                    <div class="box" style="background: rgba(81, 207, 102, 0.1); border-color: rgba(81, 207, 102, 0.3); margin-bottom: 20px;">
                        <h3 style="color: #51cf66;">1. Fase Roadmap (Trimestral)</h3>
                        <p style="font-size: 1.2rem;">
                            Estimar grandes <strong>Epics</strong> con <strong>T-Shirt Sizing</strong>
                        </p>
                        <p style="font-style: italic; color: #a0a0a0;">
                            Ejemplo: "Migrar base de datos a Azure SQL" ‚Üí Esto es un "Large"
                        </p>
                    </div>
                    <div class="box" style="background: rgba(102, 126, 234, 0.1); margin-bottom: 20px;">
                        <h3 style="color: #667eea;">2. Fase Sprint Planning (Quincenal)</h3>
                        <p style="font-size: 1.2rem;">
                            Desglosa r Epic "L" en <strong>User Stories</strong> m√°s peque√±as
                        </p>
                        <p style="font-style: italic; color: #a0a0a0;">
                            "Configurar servidor" (5), "Migrar esquema" (8), "Validar datos" (3)
                        </p>
                        <p style="font-size: 1.2rem; margin-top: 15px;">
                            Estimar con <strong>Story Points</strong> y <strong>Planning Poker</strong>
                        </p>
                    </div>
                </div>
                <p style="margin-top: 30px; text-align: center; font-size: 1.3rem; color: #51cf66;">
                    ‚úÖ Esto es refinamiento progresivo: De lo general a lo espec√≠fico
                </p>
            </div>
        </div>

        <!-- Slide 20: Tabla Comparativa -->
        <div class="slide">
            <div class="slide-content">
                <h2>üìä Cuadro Comparativo de M√©todos</h2>
                <table style="font-size: 1.1rem;">
                    <thead>
                        <tr>
                            <th>M√©todo</th>
                            <th>Escala</th>
                            <th>Uso Principal</th>
                            <th>Ventaja Clave</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>PERT</strong></td>
                            <td>3 puntos (O,M,P)</td>
                            <td>Tareas individuales con incertidumbre</td>
                            <td>Cuantifica incertidumbre (SD)</td>
                        </tr>
                        <tr>
                            <td><strong>CPM</strong></td>
                            <td>D√≠as fijos</td>
                            <td>Identificar ruta cr√≠tica</td>
                            <td>Determina duraci√≥n total</td>
                        </tr>
                        <tr>
                            <td><strong>T-Shirt</strong></td>
                            <td>XS, S, M, L, XL</td>
                            <td>Roadmaps, Epics</td>
                            <td>R√°pido, intuitivo</td>
                        </tr>
                        <tr>
                            <td><strong>Story Points</strong></td>
                            <td>Fibonacci</td>
                            <td>Sprints, Velocidad</td>
                            <td>Precisi√≥n relativa</td>
                        </tr>
                        <tr>
                            <td><strong>Planning Poker</strong></td>
                            <td>N/A (proceso)</td>
                            <td>Consenso de equipo</td>
                            <td>Expone suposiciones</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 21: ¬øCu√°ndo usar qu√©? -->
        <div class="slide">
            <div class="slide-content">
                <h2>ü§î ¬øCu√°ndo Usar Cada M√©todo?</h2>
                <div class="box" style="background: rgba(81, 207, 102, 0.1); border-color: rgba(81, 207, 102, 0.3); margin-bottom: 20px;">
                    <h3 style="color: #51cf66;">PERT / CPM</h3>
                    <ul style="font-size: 1.2rem;">
                        <li><strong>Construcci√≥n, Ingenier√≠a:</strong> Proyectos predecibles con tareas claras</li>
                        <li><strong>Cu√°ndo:</strong> Alcance bien definido, pocas restricciones de recursos</li>
                        <li><strong>Ventaja:</strong> C√°lculos precisos, ruta cr√≠tica clara</li>
                    </ul>
                </div>
                <div class="box" style="background: rgba(102, 126, 234, 0.1); margin-bottom: 20px;">
                    <h3 style="color: #667eea;">Agile (T-Shirt + Story Points + Poker)</h3>
                    <ul style="font-size: 1.2rem;">
                        <li><strong>Software, I+D, Innovaci√≥n:</strong> Requisitos emergentes o cambiantes</li>
                        <li><strong>Cu√°ndo:</strong> Alta incertidumbre en el QU√â construir, necesidad de feedback</li>
                        <li><strong>Ventaja:</strong> Adaptabilidad, aprendizaje continuo, consenso de equipo</li>
                    </ul>
                </div>
                <p style="margin-top: 30px; text-align: center; font-size: 1.4rem; color: #a0a0a0;">
                    üí° Pr√≥xima clase: ¬øQu√© m√©todo gestiona mejor los <strong>RECURSOS</strong> y el <strong>RIESGO</strong>?
                </p>
            </div>
        </div>

        <!-- Slide 22: Gancho Clase 3 -->
        <div class="slide">
            <div class="slide-content">
                <h2>‚ùì La Pregunta Cr√≠tica (Reprise)</h2>
                <div style="padding: 60px; background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 193, 7, 0.1)); border: 3px solid #ff6b6b; border-radius: 20px; text-align: center;">
                    <p style="font-size: 1.8rem; line-height: 1.8; color: #ffffff;">
                        Recordamos de la Clase 1:
                    </p>
                    <p style="font-size: 2.5rem; margin-top: 30px; color: #ffc107; font-weight: 700;">
                        ¬øD√ìNDE ponemos la seguridad<br>
                        para proteger REALMENTE al proyecto?
                    </p>
                </div>
                <div style="margin-top: 40px; padding: 30px; background: rgba(102, 126, 234, 0.1); border: 2px solid #667eea; border-radius: 15px;">
                    <p style="font-size: 1.5rem; text-align: center;">
                        CPM la pone en <span class="highlight">HOLGURA distribuida</span> (vulnerable)<br><br>
                        Agile la maneja con <span class="highlight">ITERACI√ìN</span> (re-planificaci√≥n)<br><br>
                        <strong style="color: #667eea; font-size: 1.8rem;">
                            CCPM tiene una respuesta diferente: BUFFERS AGREGADOS
                        </strong>
                    </p>
                </div>
            </div>
        </div>

        <!-- Slide 23: Resumen Clase 2 -->
        <div class="slide">
            <div class="slide-content">
                <h2>üìù Resumen de la Clase 2</h2>
                <h3 style="color: #667eea;">M√©todos Aprendidos:</h3>
                <ul style="font-size: 1.3rem;">
                    <li><strong>PERT (3 puntos):</strong> Duraci√≥n Esperada = (O+4M+P)/6, SD = (P-O)/6</li>
                    <li><strong>CPM:</strong> Ruta cr√≠tica, holgura, pero ignora recursos y factores humanos</li>
                    <li><strong>T-Shirt Sizing:</strong> XS a XXL para roadmaps y epics (r√°pido, intuitivo)</li>
                    <li><strong>Story Points:</strong> Fibonacci (0,1,2,3,5,8,13,21) = Esfuerzo + Complejidad + Incertidumbre</li>
                    <li><strong>Planning Poker:</strong> Consenso colaborativo, votaci√≥n an√≥nima, discusi√≥n de extremos</li>
                    <li><strong>Velocidad:</strong> Puntos/sprint para forecasting</li>
                    <li><strong>Flujo de Refinamiento:</strong> T-Shirt (trimestre) ‚Üí Story Points (sprint)</li>
                </ul>
                <div style="margin-top: 40px; padding: 25px; background: rgba(118, 75, 162, 0.1); border: 2px solid #764ba2; border-radius: 15px; text-align: center;">
                    <p style="font-size: 1.4rem; color: #764ba2;">
                        üéØ Pr√≥xima Clase: Cadena Cr√≠tica (CCPM) - La soluci√≥n de Goldratt
                    </p>
                </div>
            </div>
        </div>

        <!-- Slide 24: Fin -->
        <div class="slide">
            <div class="slide-content" style="text-align: center;">
                <h1>¬°Fin de la Clase 2!</h1>
                <p style="font-size: 1.8rem; margin: 40px 0; color: #a0a0a0;">
                    Gracias por su participaci√≥n activa en Planning Poker
                </p>
                <p class="emoji">üéì</p>
                <p style="font-size: 1.4rem; margin-top: 40px;">
                    <strong style="color: #667eea;">Alejandro Sfrede</strong><br>
                    √Årea de Arquitectura
                </p>
                <div style="margin-top: 60px;">
                    <a href="clase1.html" class="btn" style="display: inline-block; text-decoration: none; margin-right: 10px;">
                        ‚Üê Clase 1
                    </a>
                    <a href="index.html" class="btn" style="display: inline-block; text-decoration: none; margin: 0 10px;">
                        üè† Portal
                    </a>
                    <a href="clase3.html" class="btn" style="display: inline-block; text-decoration: none; margin-left: 10px; background: rgba(102, 126, 234, 0.2); border-color: #667eea;">
                        Clase 3 ‚Üí
                    </a>
                </div>
            </div>
        </div>
    </div>

            

            <div class="controls">
                <button class="btn" id="prevBtn" onclick="changeSlide(-1)">‚Üê Anterior</button>
                <button class="btn" id="nextBtn" onclick="changeSlide(1)">Siguiente ‚Üí</button>
            </div>
        </div>

        <!-- Right Side: Speech Sidebar (30%) -->
        <div class="sidebar" id="speechSidebar">
            <div class="sidebar-header">
                <div class="sidebar-title" id="speechTitle">Portada</div>
                <div class="sidebar-duration" id="speechDuration">2 min</div>
            </div>

            <div class="sidebar-body">
                <div class="speech-content" id="speechContent">
                    <!-- Speech content will be dynamically inserted here -->
                </div>
            </div>

            <div class="sidebar-footer">
                <span class="tts-label">üîä Text-to-Speech</span>

                <!-- Voice Selector Dropdown -->
                <select class="voice-selector" id="voiceSelector" onchange="onVoiceChange()">
                    <optgroup label="üîä Navegador (Gratis)">
                        <option value="browser:es-ES-female">Espa√±ol Espa√±a - Mujer</option>
                        <option value="browser:es-ES-male">Espa√±ol Espa√±a - Hombre</option>
                        <option value="browser:es-MX-female">Espa√±ol M√©xico - Mujer</option>
                        <option value="browser:es-MX-male">Espa√±ol M√©xico - Hombre</option>
                        <option value="browser:es-AR-female">Espa√±ol Argentina - Mujer</option>
                    </optgroup>
                    <optgroup label="üéôÔ∏è OpenAI Pro (Calidad)">
                        <option value="openai:nova">Nova - Mujer clara</option>
                        <option value="openai:shimmer">Shimmer - Mujer amigable</option>
                        <option value="openai:alloy">Alloy - Neutral moderna</option>
                        <option value="openai:echo">Echo - Hombre c√°lido</option>
                        <option value="openai:fable">Fable - Hombre claro</option>
                        <option value="openai:onyx">Onyx - Hombre grave</option>
                    </optgroup>
                </select>

                <div class="tts-controls">
                    <button class="tts-btn" id="ttsPlay" onclick="toggleTTS()">‚ñ∂</button>
                    <button class="tts-btn" id="ttsStop" onclick="stopTTS()" disabled>‚èπ</button>
                </div>
                <div class="speed-controls">
                    <button class="speed-btn" onclick="setSpeed(0.8)">0.8x</button>
                    <button class="speed-btn" onclick="setSpeed(1.0)">1.0x</button>
                    <button class="speed-btn active" onclick="setSpeed(1.2)">1.2x</button>
                    <button class="speed-btn" onclick="setSpeed(1.5)">1.5x</button>
                </div>
                <div id="ttsStatus" style="font-size: 0.75rem; color: #888; margin-top: 5px;"></div>
            </div>
        </div>
    </div>

    <script>
        // Speech Data for All 21 Slides - Extracted from SPEECH_SCRIPTS_COMPLETO.md
        const speechDataClase2 = {
            "slide1": {
                        "title": "Portada",
                        "duration": "2 min",
                        "script": "Bienvenidos de vuelta a la Clase 2: **M√©todos de Estimaci√≥n**.\n\n[PAUSA - sonre√≠r]\n\nEn Clase 1 vimos EL PROBLEMA. El diagn√≥stico. Por qu√© las estimaciones tradicionales fallan sistem√°ticamente.\n\nHoy vemos LAS HERRAMIENTAS.\n\n[√âNFASIS]\n\nVamos a ver 3 enfoques diferentes:\n\n1. **PERT / CPM**: Los cl√°sicos. A√±os 50-60. Militar, NASA, construcci√≥n.\n2. **√Ågil**: Story Points, Planning Poker. A√±os 2000. Software, equipos auto-organizados.\n3. **CCPM**: Preview para Clase 3. El cambio de paradigma.\n\n[PAUSA]\n\n¬øEl objetivo de hoy?\n\nQue al final de esta clase puedan elegir la herramienta **APROPIADA** para su contexto.\n\nNo hay 'mejor m√©todo'. Hay 'm√©todo apropiado para este proyecto'.\n\n[TRANSICI√ìN]\n\nEmpecemos con los cl√°sicos. Vamos a 1958...\""
            },
            "slide2": {
                        "title": "Agenda",
                        "duration": "3 min",
                        "script": "OK, el plan de hoy.\n\n[LEER agenda relajadamente]\n\n**Primera mitad (50 min):**\n\n**PERT**: Program Evaluation and Review Technique.\nC√≥mo estimar con 3 puntos (Optimista, M√°s Probable, Pesimista).\nLa matem√°tica detr√°s. Por qu√© funciona... y por qu√© NO basta.\n\n**CPM**: Critical Path Method.\nC√≥mo identificar la Ruta Cr√≠tica.\nPor qu√© optimizar la ruta cr√≠tica acorta el proyecto.\nY... spoiler... por qu√© CPM ignora algo cr√≠tico: los **recursos**.\n\n**Break de 15 minutos.**\n\n**Segunda mitad (95 min):**\n\n**Estimaci√≥n √Ågil**:\n- Story Points: complejidad relativa, no horas absolutas.\n- Escala Fibonacci: 1, 2, 3, 5, 8, 13...\n- T-Shirt Sizing: XS, S, M, L, XL.\n\n**Planning Poker**:\nAqu√≠ viene lo jugoso. Vamos a narrar un caso COMPLETO paso a paso.\nVan a ver c√≥mo el proceso expone suposiciones ocultas y genera alineaci√≥n.\n\n**Velocidad y Forecasting**:\nC√≥mo medir la capacidad del equipo emp√≠ricamente.\nC√≥mo responder '¬øcu√°ndo estar√° listo?' sin mentir.\n\n**Cierre (20 min):**\n\nTabla comparativa: ¬øCu√°ndo usar PERT? ¬øCu√°ndo √Ågil? ¬øCu√°ndo CCPM?\n\n[√âNFASIS]\n\nEsta clase tiene MUCHO contenido. Les pido paciencia. Al final va a cerrar.\n\n¬øListos? Vamos a 1958, plena Guerra Fr√≠a...\""
            },
            "slide3": {
                        "title": "Introducci√≥n a PERT",
                        "duration": "8 min",
                        "script": "PERT. **Program Evaluation and Review Technique**.\n\n[CONTEXTO hist√≥rico - tono narrativo]\n\n1958, plena Guerra Fr√≠a. La Marina de EEUU necesita desarrollar misiles bal√≠sticos Polaris para submarinos nucleares.\n\nProblema: el proyecto tiene **3,300 contratistas**, 250 tareas principales, dependencias complejas.\n\nPregunta: ¬øCu√°nto va a tardar?\n\n[PAUSA]\n\nM√©todo tradicional (Gantt, single estimate): 'Tarea X toma 30 d√≠as'.\n\nPero... ¬øy si hay retrasos? ¬øy si hay imprevistos? En un proyecto con 3,300 partes m√≥viles, las probabilidades de que TODO salga seg√∫n plan son... cero.\n\n[√âNFASIS]\n\nNecesitaban un m√©todo que **capturara la incertidumbre** expl√≠citamente.\n\nAh√≠ nace PERT.\n\n[EXPLICAR concepto]\n\nLa idea central de PERT:\n\n**NO estimar con un n√∫mero. Estimar con TRES n√∫meros.**\n\n[LEER los 3 puntos]\n\n1. **Optimista:** ¬øQu√© pasa si TODO sale perfecto?\n2. **M√°s Probable:** ¬øQu√© esperamos realistamente?\n3. **Pesimista:** ¬øQu√© pasa si Murphy ataca?\n\n[PAUSA]\n\nY luego usan matem√°tica para calcular una estimaci√≥n ponderada.\n\n**Resultado:** Proyecto Polaris se complet√≥ **2 a√±os ANTES** de lo originalmente estimado.\n\nPERT se acredit√≥ como factor cr√≠tico del √©xito.\n\n[CONEXI√ìN con Clase 1]\n\n¬øRecuerdan el Cono de Incertidumbre?\n\nEn fase de Concepto: ¬±400%.\n\nPERT es una forma de **CAPTURAR** esa variabilidad expl√≠citamente.\n\nNo das un n√∫mero falso. Das un **RANGO** que refleja la incertidumbre real.\n\n[ANALOG√çA]\n\nPregunta: '¬øCu√°nto tarda llegar del aeropuerto a tu casa?'\n\nRespuesta puntual: '30 minutos.'\n\nRespuesta PERT:\n- Optimista (3am, cero tr√°fico): 20 min\n- M√°s probable: 30 min\n- Pesimista (hora pico, accidente): 60 min\n\n¬øCu√°l es m√°s honesta? La respuesta PERT.\n\n[TRANSICI√ìN]\n\nVeamos la matem√°tica...\""
            },
            "slide4": {
                        "title": "F√≥rmula PERT",
                        "duration": "10 min",
                        "script": "OK, la f√≥rmula.\n\n[LEER f√≥rmula en pantalla]\n\n**Œº = (O + 4M + P) / 6**\n\nDonde:\n- O = Optimista\n- M = M√°s Probable (Most Likely)\n- P = Pesimista\n\n[PAUSA - dejar que miren]\n\nPregunta obvia: ¬øPor qu√© multiplicar M por 4?\n\n¬øPor qu√© dividir entre 6?\n\n¬øDe d√≥nde sale esto?\n\n[EXPLICAR]\n\nEsto viene de la **distribuci√≥n Beta**.\n\nEn estad√≠stica, cuando ten√©s incertidumbre asim√©trica (no es una campana perfecta), la distribuci√≥n Beta modela bien el comportamiento.\n\nLa f√≥rmula **Œº = (O + 4M + P) / 6** es una aproximaci√≥n de la **media** de esa distribuci√≥n.\n\n[PAUSA]\n\nTraducci√≥n: el n√∫mero 'M' (M√°s Probable) tiene 4 veces m√°s peso que los extremos.\n\nTiene sentido: los extremos (best case / worst case) son menos probables. El centro es donde caemos usualmente.\n\n[EJEMPLO num√©rico]\n\nTarea: Implementar m√≥dulo de autenticaci√≥n.\n\n**Estimaciones del equipo:**\n- Optimista (O): 3 d√≠as (todo va perfecto, API lista, sin bugs)\n- M√°s Probable (M): 7 d√≠as (normal, alg√∫n bug, testing)\n- Pesimista (P): 15 d√≠as (API incompleta, bugs severos, refactor)\n\n[CALCULAR]\n\n**Œº = (3 + 4√ó7 + 15) / 6**\n**Œº = (3 + 28 + 15) / 6**\n**Œº = 46 / 6**\n**Œº ‚âà 7.7 d√≠as**\n\n[INTERPRETAR]\n\nLa estimaci√≥n PERT dice: **8 d√≠as** (redondeado).\n\nPero ojo: NO es una promesa. Es la **esperanza matem√°tica**.\n\n[PAUSA]\n\nPregunta: '¬øHay 50% de probabilidad de terminar en 8 d√≠as?'\n\nRespuesta: **NO**.\n\nLa distribuci√≥n Beta es asim√©trica. T√≠picamente hay ~35-40% de chance de terminar en la esperanza.\n\nM√°s chance de pasarse que de terminarse antes.\n\n[VER GR√ÅFICO en slide - curva Beta]\n\nLa distribuci√≥n se 've as√≠: pico en 7, pero cola larga hacia la derecha (15 d√≠as).\n\n[√âNFASIS]\n\nPor eso PERT tambi√©n calcula **varianza**:\n\n**œÉ¬≤ = [(P - O) / 6]¬≤**\n\nVarianza mide 'qu√© tan dispersa' est√° la estimaci√≥n.\n\nEn nuestro caso:\n- œÉ¬≤ = [(15 - 3) / 6]¬≤ = [12/6]¬≤ = 2¬≤ = 4\n- œÉ = 2 d√≠as (desviaci√≥n est√°ndar)\n\n[INTERPRETAR varianza]\n\nEstimaci√≥n: **8 d√≠as ¬± 2 d√≠as**\n\nRango razonable: 6-10 d√≠as.\n\n[PAUSA]\n\nEsto es MUCHO m√°s honesto que decir 'toma 8 d√≠as' sin contexto.\n\n[TRANSICI√ìN]\n\nAhora, ¬øc√≥mo usamos esto en un proyecto con MUCHAS tareas?\""
            },
            "slide5": {
                        "title": "PERT en Proyectos Complejos",
                        "duration": "8 min",
                        "script": "Un proyecto real no es UNA tarea. Son 50, 100, 200 tareas.\n\n¬øC√≥mo aplicamos PERT ah√≠?\n\n[EXPLICAR proceso]\n\n**Paso 1:** Cada tarea se estima con 3 puntos (O-M-P).\n\n**Paso 2:** Calcular Œº y œÉ¬≤ para cada tarea.\n\n**Paso 3:** Sumar esperanzas (Œº) para obtener duraci√≥n total del proyecto.\n\n**Paso 4:** Sumar varianzas (œÉ¬≤) para obtener incertidumbre total.\n\n[PAUSA - √âNFASIS en Paso 4]\n\nEsto es cr√≠tico: **las varianzas se SUMAN**.\n\nNo se promedian. Se SUMAN.\n\n¬øPor qu√© importa?\n\n[EJEMPLO]\n\nProyecto con 10 tareas:\n- Cada tarea: Œº = 5 d√≠as, œÉ = 1 d√≠a\n- Duraci√≥n total: 10 √ó 5 = **50 d√≠as**\n- Varianza total: 10 √ó 1¬≤ = 10\n- Desviaci√≥n est√°ndar total: ‚àö10 ‚âà **3.2 d√≠as**\n\n[PAUSA]\n\nRango del proyecto: **50 ¬± 3.2 d√≠as** ‚Üí 47-53 d√≠as (razonable).\n\n[AHORA el problema]\n\nProyecto con 100 tareas:\n- Cada tarea: Œº = 5 d√≠as, œÉ = 1 d√≠a\n- Duraci√≥n total: 100 √ó 5 = **500 d√≠as**\n- Varianza total: 100 √ó 1¬≤ = 100\n- Desviaci√≥n est√°ndar total: ‚àö100 = **10 d√≠as**\n\nRango: **500 ¬± 10 d√≠as** ‚Üí 490-510 d√≠as.\n\n[PAUSA - tono reflexivo]\n\nEsperen... 100 tareas, cada una con ¬±1 d√≠a de incertidumbre...\n\n...y el proyecto TOTAL solo tiene ¬±10 d√≠as de incertidumbre?\n\nEso suena... optimista.\n\n[PROBLEMA DE PERT]\n\nEn la pr√°ctica, las tareas NO son independientes.\n\nSi una tarea se retrasa, a menudo arrastra a otras:\n- Dependencias t√©cnicas\n- Recursos compartidos\n- Conocimiento oculto que se descubre tarde\n\n**PERT asume independencia. Eso es falso en proyectos reales.**\n\n[CONEXI√ìN con Clase 1]\n\n¬øRecuerdan los estudios de Microsoft y MIT?\n\nLos proyectos con padding distribuido (cada tarea con 'colch√≥n') terminaban PEOR.\n\nParkinson y Student Syndrome com√≠an el padding.\n\n[√âNFASIS]\n\nPERT mejora la **estimaci√≥n individual**, pero NO previene la **din√°mica psicol√≥gica**.\n\n[TRANSICI√ìN]\n\nY ah√≠ entra CPM...\""
            },
            "slide6": {
                        "title": "CPM - Critical Path Method",
                        "duration": "12 min",
                        "script": "CPM: **Critical Path Method**.\n\nHermano de PERT. Desarrollado casi al mismo tiempo (1957) por DuPont.\n\n[PREGUNTA ret√≥rica]\n\nSi tengo 100 tareas en mi proyecto, ¬øtodas son igual de importantes?\n\n[Esperar respuestas mentales]\n\nRespuesta: **NO**.\n\nAlgunas tareas est√°n en la **Ruta Cr√≠tica**.\n\n[DEFINICI√ìN]\n\n**Ruta Cr√≠tica:** Secuencia de tareas que determina la duraci√≥n M√çNIMA del proyecto.\n\nSi una tarea en la ruta cr√≠tica se retrasa 1 d√≠a ‚Üí el proyecto se retrasa 1 d√≠a.\n\nSi una tarea FUERA de la ruta cr√≠tica se retrasa 1 d√≠a ‚Üí puede no afectar (tiene 'holgura').\n\n[ANALOG√çA]\n\nImaginen que van a preparar una cena de 3 platos:\n\n**Tareas:**\n1. Cocinar arroz: 20 min\n2. Hacer ensalada: 10 min\n3. Cocinar carne: 30 min\n4. Hacer postre: 15 min\n\n¬øCu√°nto tarda la cena completa?\n\n[PAUSA]\n\nSi hacen TODO secuencial: 20 + 10 + 30 + 15 = **75 minutos**.\n\nPero pueden **paralelizar**:\n- Mientras se cocina el arroz (20 min), hacen la ensalada (10 min)\n- Mientras se cocina la carne (30 min), hacen el postre (15 min)\n\nTimeline real:\n- Minuto 0-20: Arroz (+ Ensalada en paralelo)\n- Minuto 20-50: Carne (+ Postre en paralelo)\n\n**Total: 50 minutos** (no 75).\n\n[IDENTIFICAR ruta cr√≠tica]\n\n**Ruta Cr√≠tica:** Arroz (20) ‚Üí Carne (30) = **50 min**\n\nEnsalada y Postre tienen **holgura** (pueden retrasarse sin afectar).\n\n[PAUSA]\n\n**Implicaci√≥n:** Si quer√©s acortar la cena, optimiz√° la carne o el arroz.\n\nNO pierdas tiempo optimizando la ensalada (no est√° en ruta cr√≠tica).\n\n[APLICAR a software]\n\nProyecto de desarrollo:\n\n**Tareas:**\n- A: Dise√±o de DB (5 d√≠as)\n- B: Backend API (10 d√≠as) - depende de A\n- C: Frontend (8 d√≠as) - depende de B\n- D: Testing (3 d√≠as) - depende de C\n- E: Documentaci√≥n (4 d√≠as) - puede empezar despu√©s de A\n\n[DIBUJAR mentalmente]\n\nA (5) ‚Üí B (10) ‚Üí C (8) ‚Üí D (3) = **26 d√≠as** (Ruta Cr√≠tica)\n\nE (4) puede empezar despu√©s de A, termina en d√≠a 9.\n\n**Duraci√≥n proyecto: 26 d√≠as** (no 30 si hicieras todo secuencial).\n\n[√âNFASIS]\n\nCPM dice: **Optimiz√° B y C** (est√°n en ruta cr√≠tica).\n\nSi B baja de 10 a 8 d√≠as ‚Üí proyecto baja a 24 d√≠as.\n\nSi E baja de 4 a 2 d√≠as ‚Üí proyecto sigue en 26 d√≠as (E no est√° en ruta cr√≠tica).\n\n[PAUSA - El problema de CPM]\n\nCPM asume que pod√©s **paralelizar** A, B, C, D, E sin problema.\n\nPero... ¬øqu√© pasa si:\n- B y E necesitan al MISMO desarrollador?\n- C y D necesitan el MISMO entorno de testing?\n\nAh√≠ CPM **falla**. Porque ignora **recursos**.\n\n[PREVIEW Clase 3]\n\nEn Clase 3 veremos **Critical CHAIN** (no Critical Path).\n\nLa diferencia: Critical Chain incluye **recursos**.\n\nEso cambia todo.\n\n[TRANSICI√ìN]\n\nAntes del break, veamos c√≥mo PERT y CPM se combinan...\""
            },
            "slide7": {
                        "title": "Combinando PERT y CPM",
                        "duration": "10 min",
                        "script": "En la pr√°ctica, PERT y CPM se usan juntos.\n\n[PROCESO combinado]\n\n**Paso 1:** Identificar todas las tareas y dependencias (grafo de red).\n\n**Paso 2:** Estimar cada tarea con PERT (O-M-P ‚Üí Œº y œÉ¬≤).\n\n**Paso 3:** Calcular Ruta Cr√≠tica (CPM).\n\n**Paso 4:** Sumar Œº de tareas en ruta cr√≠tica ‚Üí Duraci√≥n esperada del proyecto.\n\n**Paso 5:** Sumar œÉ¬≤ de tareas en ruta cr√≠tica ‚Üí Varianza del proyecto.\n\n[EJEMPLO completo]\n\nProyecto con 6 tareas:\n\n| Tarea | Predecesoras | O | M | P | Œº | œÉ¬≤ |\n|-------|--------------|---|---|---|---|----|\n| A | - | 2 | 3 | 5 | 3.2 | 0.25 |\n| B | A | 4 | 6 | 10 | 6.3 | 1.0 |\n| C | A | 3 | 4 | 6 | 4.2 | 0.25 |\n| D | B | 5 | 7 | 11 | 7.3 | 1.0 |\n| E | C | 2 | 3 | 5 | 3.2 | 0.25 |\n| F | D, E | 3 | 4 | 6 | 4.2 | 0.25 |\n\n[IDENTIFICAR rutas]\n\n**Ruta 1:** A ‚Üí B ‚Üí D ‚Üí F = 3.2 + 6.3 + 7.3 + 4.2 = **21 d√≠as**\n**Ruta 2:** A ‚Üí C ‚Üí E ‚Üí F = 3.2 + 4.2 + 3.2 + 4.2 = **14.8 d√≠as**\n\n**Ruta Cr√≠tica:** Ruta 1 (21 d√≠as).\n\n[CALCULAR incertidumbre]\n\nVarianza de Ruta Cr√≠tica: 0.25 + 1.0 + 1.0 + 0.25 = **2.5**\nDesviaci√≥n est√°ndar: ‚àö2.5 ‚âà **1.6 d√≠as**\n\n**Resultado:**\n\nDuraci√≥n esperada: **21 ¬± 1.6 d√≠as** (68% de confianza)\nRango amplio (95% confianza): **21 ¬± 3.2 d√≠as** ‚Üí 18-24 d√≠as\n\n[INTERPRETAR para stakeholder]\n\n\"El proyecto tomar√° aproximadamente **21 d√≠as**.\n\nHay 68% de probabilidad de que est√© entre 19-23 d√≠as.\n\nHay 95% de probabilidad de que est√© entre 18-24 d√≠as.\n\nSi necesitamos compromiso firme, recomendamos planificar para **24 d√≠as** (incluye 2œÉ de buffer).\"\n\n[PAUSA - √âNFASIS]\n\nEsto es **honestidad** vs falsa precisi√≥n.\n\nMejor decir '21 ¬± 3 d√≠as' que '21 d√≠as exactos'.\n\n[BENEFICIOS de PERT/CPM]\n\n‚úÖ Captura incertidumbre expl√≠citamente (PERT 3 puntos)\n‚úÖ Identifica d√≥nde concentrar esfuerzo (CPM ruta cr√≠tica)\n‚úÖ Cuantifica riesgo (varianza agregada)\n‚úÖ Funciona bien para proyectos con fases claras\n\n[LIMITACIONES]\n\n‚ùå Asume independencia de tareas (raramente cierto)\n‚ùå Ignora recursos (CPM asume paralelismo infinito)\n‚ùå NO previene Parkinson / Student Syndrome\n‚ùå Estimaciones iniciales siguen siendo basadas en 'adivinar'\n\n[TRANSICI√ìN]\n\nOK, eso es PERT/CPM. Los cl√°sicos.\n\nBreak de 15 minutos.\n\nCuando volvamos: **M√©todos √Ågiles**.\""
            },
            "slide8": {
                        "title": "Introducci√≥n a Estimaci√≥n √Ågil",
                        "duration": "8 min",
                        "script": "Bienvenidos de vuelta.\n\n[PAUSA]\n\nPrimera mitad: PERT y CPM. M√©todos de los a√±os 50-60. Militares, NASA, construcci√≥n.\n\nSegunda mitad: **Estimaci√≥n √Ågil**. A√±os 2000. Software, equipos auto-organizados.\n\n[√âNFASIS]\n\nEl cambio de paradigma:\n\n**PERT/CPM dicen:** 'Estim√° en horas o d√≠as (tiempo absoluto).'\n\n**√Ågil dice:** 'Estim√° en Story Points (complejidad relativa).'\n\n[PAUSA - pregunta ret√≥rica]\n\n¬øPor qu√©?\n\n[EXPLICAR]\n\n**Problema de estimar en horas:**\n\nPregunta: '¬øCu√°ntas horas toma implementar login b√°sico?'\n\nRespuestas:\n- Dev Junior: 16 horas (nunca lo hizo)\n- Dev Senior: 4 horas (lo hizo 20 veces)\n- Dev que no sabe React: 12 horas (conoce backend, no frontend)\n\n¬øQui√©n tiene raz√≥n?\n\n[PAUSA]\n\n**Todos tienen raz√≥n**. Para su nivel de experiencia.\n\nEstimar en horas **mezcla** dos cosas:\n1. Complejidad de la tarea\n2. Velocidad del ejecutor\n\n[ANALOG√çA]\n\nPregunta: '¬øCu√°nto tard√°s en correr 5 km?'\n\n- Atleta: 18 minutos\n- Persona promedio: 35 minutos\n- Sedentario: 50 minutos\n\nLa **distancia** (5 km) es fija.\nEl **tiempo** depende de qui√©n corre.\n\n[APLICAR a software]\n\n**Story Points separan complejidad de velocidad:**\n\n- **Complejidad (Story Points):** 'Login b√°sico es 3 puntos' (relativo a baseline)\n- **Velocidad (Velocity):** 'Este equipo hace 25 puntos por sprint' (emp√≠rico)\n\n[BENEFICIOS]\n\n‚úÖ **Estabilidad:** Complejidad de 'login' no cambia si cambia el equipo.\n‚úÖ **No culpa:** No decimos 'tardaste 8 horas cuando estimaste 4'. Decimos 'el equipo hizo 20 puntos este sprint, hist√≥ricamente hace 25'.\n‚úÖ **Colaboraci√≥n:** Equipo estima junto (no PM solo).\n‚úÖ **Honestidad:** Reconoce que NO sabemos exacto.\n\n[PREGUNTA obvia]\n\n'OK, pero al final el stakeholder quiere **FECHA**. ¬øC√≥mo convert√≠s Story Points a calendario?'\n\n[RESPUESTA]\n\nCon **Velocidad**.\n\nDespu√©s de 3-5 sprints, med√≠s cu√°ntos puntos el equipo completa por sprint.\n\nEso te da forecast emp√≠rico.\n\n[EJEMPLO]\n\n- Backlog: 120 Story Points\n- Velocidad del equipo: 25 puntos/sprint\n- Forecast: 120/25 ‚âà 5 sprints\n- Si sprints son 2 semanas ‚Üí **10 semanas**\n\n[√âNFASIS]\n\nBasado en **datos reales**, no adivinanzas.\n\n[TRANSICI√ìN]\n\nVeamos los Story Points en detalle...\""
            },
            "slide9": {
                        "title": "Story Points y Escala Fibonacci",
                        "duration": "12 min",
                        "script": "Story Points. Unidad de **complejidad relativa**.\n\n[EXPLICAR concepto]\n\nNo son horas. No son d√≠as. Son **puntos comparativos**.\n\n[ANALOG√çA]\n\nImaginen que tienen que estimar cu√°nto tarda hacer 3 comidas:\n\n- Comida A: Huevos revueltos\n- Comida B: Pasta con salsa\n- Comida C: Paella valenciana completa\n\n[PREGUNTA]\n\n'¬øCu√°ntos minutos tarda cada una?'\n\nDif√≠cil. Depende de qui√©n cocina.\n\n[MEJOR PREGUNTA]\n\n'Si Huevos Revueltos es 1 punto (baseline), ¬øcu√°ntos puntos son Pasta y Paella?'\n\nRespuestas intuitivas:\n- Huevos: **1**\n- Pasta: **3** (3 veces m√°s compleja)\n- Paella: **13** (mucho m√°s compleja, muchos ingredientes, timing cr√≠tico)\n\n[PAUSA]\n\nEso es Story Points. **Relativo**, no absoluto.\n\n[ESCALA FIBONACCI]\n\nEn √Ågil se usa la secuencia de Fibonacci:\n\n**0, 1, 2, 3, 5, 8, 13, 21, 34, ...**\n\n¬øPor qu√© esta secuencia tan rara?\n\n[EXPLICAR]\n\n**Raz√≥n 1: Incertidumbre crece no-linealmente.**\n\nDiferencia entre 3 y 4 horas: precisa, medible.\nDiferencia entre 13 y 14 d√≠as: irrelevante, ambos son 'largo y riesgoso'.\n\nFibonacci **agrupa** estimaciones en buckets: 1, 2, 3, 5, 8, 13.\n\nNo hay 4. No hay 6. No hay 7.\n\nEso **previene falsa precisi√≥n**.\n\n**Raz√≥n 2: Fibonacci fuerza discusi√≥n.**\n\nSi alguien dice 'esta tarea es 4' y no existe 4, tiene que elegir: ¬ø3 o 5?\n\nEso genera debate ‚Üí suposiciones salen a la luz.\n\n**Raz√≥n 3: Refleja Cono de Incertidumbre.**\n\n- Tarea 1-2 pts: muy bien entendida (¬±25%)\n- Tarea 8-13 pts: poca claridad (¬±100%+)\n- Tarea 21+ pts: √©pica, hay que dividir\n\n[ESCALA completa]\n\n**0:** Trivial (cambiar un texto, arreglar typo)\n**1:** Muy simple (agregar campo a form, test unitario)\n**2:** Simple (endpoint CRUD b√°sico)\n**3:** Baseline (feature simple end-to-end) ‚Üê ELEGIR ESTO COMO REFERENCIA\n**5:** Moderadamente complejo (feature con l√≥gica de negocio)\n**8:** Complejo (integraci√≥n con sistema externo, refactor)\n**13:** Muy complejo (m√≥dulo completo, alta incertidumbre)\n**21:** √âpica (dividir en historias m√°s chicas)\n**?:** No s√© (necesito investigar primero)\n**‚àû:** Demasiado grande (imposible estimar, dividir)\n\n[√âNFASIS - Baseline]\n\n**Clave: el equipo debe elegir una historia 'est√°ndar' de 3 puntos.**\n\nTodas las dem√°s estimaciones son **relativas a esa baseline**.\n\nEjemplo:\n- Baseline: 'CRUD completo con validaciones' = 3 pts\n- Historia nueva: '¬øEs m√°s simple, igual, o m√°s complejo que el CRUD?'\n\n[PAUSA]\n\nSi todos usan la MISMA baseline, las estimaciones se alinean.\n\n[EVITAR]\n\n‚ùå NO convertir puntos a horas ('1 pt = 2 horas')\n‚ùå NO comparar velocidades entre equipos ('Equipo A hace 40 pts, B hace 25')\n‚ùå NO cambiar baseline mid-proyecto (genera inconsistencia)\n\n[TRANSICI√ìN]\n\nAhora, ¬øc√≥mo el equipo decide cu√°ntos puntos asignar?\n\nAh√≠ entra **Planning Poker**.\""
            },
            "slide10": {
                        "title": "T-Shirt Sizing",
                        "duration": "10 min",
                        "script": "Antes de Planning Poker, una variante m√°s simple: **T-Shirt Sizing**.\n\n[CONCEPTO]\n\nEn vez de n√∫meros (1, 2, 3, 5...), us√°s tallas de remera:\n\n**XS, S, M, L, XL, XXL**\n\n[POR QU√â]\n\nT-Shirt Sizing es m√°s **intuitivo** para equipos nuevos o stakeholders no-t√©cnicos.\n\n'Esta feature es L (grande)' es m√°s f√°cil de entender que 'esta feature es 13 puntos'.\n\n[CU√ÅNDO USAR]\n\n**Situaci√≥n 1: Estimaci√≥n burda de backlog grande**\n\nTen√©s 100 historias en backlog.\n\nNO necesit√°s precisi√≥n. Necesit√°s orden de magnitud.\n\nProceso:\n- Stakeholders o PM asignan: XS, S, M, L, XL\n- Historias L y XL se dividen despu√©s\n- Historias XS, S, M se refinan cuando est√©n cerca\n\n**Situaci√≥n 2: Introducir √Ågil a organizaci√≥n tradicional**\n\nCliente acostumbrado a horas/d√≠as.\n\nStory Points suenan abstractos.\n\nT-Shirt es puente:\n- 'Esta feature es M (mediana), como el m√≥dulo de reportes que hicimos'\n- Cliente entiende comparaci√≥n, aunque no entienda 'puntos'\n\n**Situaci√≥n 3: Discovery / Inception**\n\nPrimeras sesiones con cliente.\n\nNO sabemos suficiente para estimar con Fibonacci.\n\nT-Shirt permite clasificar sin falsa precisi√≥n.\n\n[MAPEO aproximado]\n\n| T-Shirt | Fibonacci | Descripci√≥n |\n|---------|-----------|-------------|\n| XS | 1 | Trivial |\n| S | 2-3 | Simple |\n| M | 5 | Moderada |\n| L | 8-13 | Grande |\n| XL | 21+ | √âpica |\n| XXL | ‚àû | Demasiado grande, dividir |\n\n[PROCESO]\n\n**Paso 1:** Elegir historia 'M' como baseline (igual que Fibonacci 3).\n\n**Paso 2:** Para cada historia, comparar: '¬øEs m√°s chica (S), igual (M), o m√°s grande (L) que baseline?'\n\n**Paso 3:** Historias L y XL se marcan para dividir.\n\n[EJEMPLO pr√°ctico]\n\nBacklog de e-commerce:\n\n| Historia | T-Shirt | Raz√≥n |\n|----------|---------|-------|\n| Agregar bot√≥n 'favoritos' | XS | Cambio UI simple |\n| Registro de usuario | S | Form + validaciones + email |\n| Checkout | L | Muchos pasos, integraciones |\n| Recomendaciones con ML | XXL | √âpica, dividir |\n| Dashboard admin | L | Muchas pantallas |\n\n[LUEGO refinar]\n\nLas top 15 historias (las que entrar√°n pronto en sprint) se re-estiman con Fibonacci.\n\nProceso:\n- S ‚Üí 2 o 3 pts\n- M ‚Üí 5 pts\n- L ‚Üí 8 o 13 pts (o dividir en 2 M)\n\n[EJEMPLO de refinamiento]\n\n**Historia:** 'Checkout' (L)\n\n**Al refinar:**\n- Paso 1: Ingresar direcci√≥n ‚Üí 3 pts\n- Paso 2: Elegir m√©todo de pago ‚Üí 5 pts\n- Paso 3: Revisar orden ‚Üí 2 pts\n- Paso 4: Confirmar y email ‚Üí 3 pts\n\nTotal: 13 pts (coincide con L).\n\nO divid√≠s en 2 historias: Pasos 1-2 (8 pts) y Pasos 3-4 (5 pts).\n\n[VENTAJAS de T-Shirt]\n\n‚úÖ R√°pido (sprint de 50 historias en 30 min)\n‚úÖ Intuitivo (todos entienden tallas)\n‚úÖ Previene par√°lisis por an√°lisis\n\n[DESVENTAJAS]\n\n‚ùå Menos preciso que Fibonacci\n‚ùå NO sirve para Sprint Planning (necesit√°s n√∫meros para calcular capacidad)\n‚ùå Puede ser ambiguo ('¬øEsto es M grande o L chico?')\n\n[COMBINACI√ìN t√≠pica]\n\n**Paso 1:** Toda el backlog con T-Shirt Sizing (burdo, r√°pido)\n\n**Paso 2:** Historias top 15 con Planning Poker (Fibonacci, preciso)\n\n**Paso 3:** En Sprint Planning, las top 15 historias se estiman con Fibonacci\n\n**Resultado:**\n- Backlog organizado por tama√±o\n- Top historias con puntos precisos\n- Historias lejanas con estimaci√≥n burda (est√° OK, se refinar√°n despu√©s)\n\n[CONECTAR con Refinamiento Progresivo]\n\nEsto conecta con un concepto que veremos despu√©s: **Refinamiento Progresivo**.\n\nNO necesitas estimar TODO el backlog con precisi√≥n.\nSolo lo que vas a trabajar PRONTO.\n\nEl resto puede ser T-Shirt o incluso 'Epic - grande' sin m√°s detalle.\n\n[TRANSICI√ìN]\n\nOK, ahora que sabemos la TEOR√çA (puntos, Fibonacci, T-Shirt)...\n\n¬øC√≥mo el EQUIPO decide cu√°ntos puntos asignar?\n\nAh√≠ entra **Planning Poker**.\""
            },
            "slide11": {
                        "title": "Break - Preguntas y Transici√≥n",
                        "duration": "2 min",
                        "script": "Tomemos un break de 15 minutos.\n\n[PAUSA]\n\nSi tienen preguntas sobre PERT, CPM, Story Points, o T-Shirt Sizing, ahora es el momento.\n\n[PAUSA - responder preguntas si hay]\n\nCuando volvamos, vamos a hacer algo pr√°ctico:\n\n**Taller de Planning Poker**.\n\nVan a ver c√≥mo un equipo REAL estima una historia.\n\nVan a ver la DISCUSI√ìN que genera consenso.\n\nVan a ver c√≥mo suposiciones ocultas salen a la luz.\n\n[√âNFASIS]\n\nEste es el **coraz√≥n pedag√≥gico** de Clase 2.\n\nNos vemos en 15 minutos.\""
            },
            "slide12": {
                        "title": "Planning Poker - Introducci√≥n y Marco Te√≥rico",
                        "duration": "12 min",
                        "script": "Bienvenidos de vuelta.\n\nAhora: **Planning Poker**.\n\n[PAUSA]\n\nPlanning Poker es el m√©todo COLABORATIVO por excelencia para asignar Story Points.\n\n[VER SLIDE - Objetivo Central]\n\nEl objetivo NO es obtener un n√∫mero exacto.\n\nEs generar **CONSENSO** basado en **DISCUSI√ìN** y exposici√≥n de **SUPOSICIONES OCULTAS**.\n\n[ELEMENTOS en slide]\n\n**Elementos Clave del Proceso:**\n\n1. **Votaci√≥n simult√°nea y an√≥nima** (evita anclaje)\n2. **Discusi√≥n de estimaciones extremas** (identifica riesgos)\n3. **Re-votaci√≥n hasta consenso** (alineaci√≥n del equipo)\n4. **Compromiso compartido** (ownership distribuido)\n\n[PAUSA]\n\n¬øPor qu√© votaci√≥n an√≥nima?\n\nPorque previene el **efecto ancla**.\n\nSi el arquitecto senior dice '8' primero, todos dicen 8.\n\nCon cartas boca abajo, cada uno piensa independientemente.\n\n[EJEMPLO]\n\nSi en una sala hay 5 personas y todas votan diferente: 2, 3, 5, 8, 13...\n\n¬øEst√°n mal 4 de ellas?\n\n[PAUSA]\n\nNO. Cada una tiene **suposiciones diferentes**.\n\nY esas suposiciones necesitan salir a la luz.\n\n[TRANSICI√ìN]\n\nVeamos un caso real..."
            },
            "slide13": {
                        "title": "Demostraci√≥n - Historia HU-3 (Password Reset)",
                        "duration": "15 min",
                        "script": `"OK, momento de la verdad.

El equipo vota por HU-3.

Scrum Master dice: 'Todos listos? 3, 2, 1, revelar!'

[PAUSA DRAM√ÅTICA]

Los votos:

- **Ana (Dev Backend):** 2
- **Carlos (Dev Frontend):** 3
- **Mar√≠a (Tester QA):** 5
- **Pedro (Dev Fullstack):** 13
- **Laura (Arquitecta):** 8

[VER GR√ÅFICO en slide con las cartas]

[REACCI√ìN]

ENORME dispersi√≥n: **2 a 13**.

Diferencia de **6.5x** entre extremos.

[PAUSA]

Scrum Master: 'OK, tenemos que hablar. Ana, empecemos contigo. ¬øPor qu√© 2?'

---

**Ana (Dev Backend - vot√≥ 2):**

'Bueno, es bastante directo.

Yo lo comparo con HU-2 (Registro), que fue 3 puntos.

Password Reset es M√ÅS SIMPLE porque:

1. **Ya tenemos infraestructura de email** (la usamos para confirmaci√≥n en HU-2)
2. **Ya sabemos hash passwords** (hicimos en HU-1 y HU-2)
3. **El form es m√°s simple** (solo email, despu√©s solo 2 campos de password)
4. **No hay validaciones complejas** (solo email v√°lido y password match)

Entonces, menos complejo que HU-2 (3 pts) ‚Üí le pongo **2 puntos**.'

[PAUSA]

**Scrum Master:** 'OK, gracias Ana. Pedro, ahora vos. ¬øPor qu√© 13?'

---

**Pedro (Dev Fullstack - vot√≥ 13):**

[Suspira]

'Yo veo MUCHA complejidad que Ana no mencion√≥.

**1. Seguridad:**

El token tiene que ser:
- Criptogr√°ficamente seguro (no un simple random())
- √önico (check en DB que no existe)
- Temporal (expira en 1 hora)
- Invalidado despu√©s de uso (no reusable)

Eso es una **tabla nueva** en DB: \`password_reset_tokens\`.

**2. Email:**

Ana dice 'ya tenemos email'. S√≠, para CONFIRMACI√ìN (un template simple).

Pero reset password es diferente:
- Necesitamos OTRO template
- Con link que incluye token
- Link a p√°gina que NO existe a√∫n (form de reset)

**3. P√°gina nueva de reset:**

No es modificar login, es p√°gina NUEVA:
- Route /reset-password/:token
- Validar token (existe? expir√≥? ya se us√≥?)
- Form con UX espec√≠fica
- Manejo de errores (token inv√°lido, expirado, etc.)

**4. Testing:**

Mar√≠a (tester) vot√≥ 5, as√≠ que ella tambi√©n ve complejidad.

Hay que testear:
- Happy path
- Token expirado (¬øc√≥mo simulo paso de 1 hora?)
- Token ya usado
- Token inexistente
- Email inexistente
- Passwords que no matchean

**5. Edge cases:**

- ¬øQu√© pasa si pido reset 5 veces? ¬ø5 emails con 5 tokens?
- ¬øO invalido el anterior?
- ¬øHay rate limiting? (prevenir abuse)
- ¬øLogging de intentos de reset? (auditor√≠a de seguridad)

[√âNFASIS]

Por todo eso, le pongo **13 puntos**.

De hecho, casi le pongo '?' porque hay incertidumbre en seguridad.'

[PAUSA LARGA]

---

**Scrum Master:** 'Guau. OK. Ana, ¬øqu√© pens√°s de lo que dijo Pedro?'

---

**Ana:** 'Uh... ten√©s raz√≥n en varias cosas.

Yo asum√≠ que:
- Tabla de tokens ya exist√≠a (no s√© por qu√© asum√≠ eso)
- Template de email era trivial (pero el link con token s√≠ complica)
- P√°gina de reset la pod√≠amos hacer en login route (pero ten√©s raz√≥n, necesita route separada)

No pens√© en rate limiting ni en abuse.

Ni en logging.

[PAUSA]

Cambio mi voto. No es 2, es m√°s bien... ¬ø5? ¬øTal vez 8?'

---

**Scrum Master:** 'OK. Mar√≠a (tester), vos votaste 5. ¬øPor qu√©?'

---

**Mar√≠a (Tester QA - vot√≥ 5):**

'Yo pens√© en testing.

HU-2 (Registro) fue 3 puntos, y el testing fue ~20% del esfuerzo.

Password Reset tiene M√ÅS casos edge:
- Expiraci√≥n
- Tokens inv√°lidos
- Rate limiting (si lo hacemos)

Pero tampoco es 13. Es m√°s complejo que Registro (3), pero no 4 veces m√°s.

Le puse **5**: moderadamente m√°s complejo.'

---

**Scrum Master:** 'Laura (arquitecta), vos votaste 8. ¬øTu perspectiva?'

---

**Laura (Arquitecta - vot√≥ 8):**

'Yo agregu√© la perspectiva de dise√±o.

Pedro tiene raz√≥n en complejidad t√©cnica.
Ana tiene raz√≥n en que tenemos piezas.

**Mi an√°lisis:**

**Complejidad T√âCNICA:** Alta (token, seguridad, tabla nueva) ‚Üí 8-13
**Complejidad de NEGOCIO:** Baja (flujo claro, bien definido) ‚Üí 3
**Riesgo de CAMBIOS:** Bajo (Password reset es standard, no va a cambiar) ‚Üí 2

Promedio mental: **8 puntos**.

Pero adem√°s...

[PAUSA]

Creo que deber√≠amos dividir esta historia.

**Split en 2:**

**HU-3a: Password Reset - Happy Path** (5 pts)
- Token generation
- Email con link
- Form de reset
- Actualizar password
- Testing b√°sico

**HU-3b: Password Reset - Seguridad Hardening** (3 pts)
- Rate limiting
- Token expiration enforcement
- Logging/auditor√≠a
- Abuse prevention
- Testing edge cases

**Total: 8 pts, pero dividido para entregar valor incremental.'**

---

**Scrum Master:** 'Interesante. Carlos (frontend), vos votaste 3. ¬øC√≥mo llegaste a ese n√∫mero?'

---

**Carlos (Dev Frontend - vot√≥ 3):**

'Yo solo pens√© en el frontend.

Form de email + Form de nueva password = 2 componentes React simples.
Igual de complejo que form de Registro (HU-2).

Por eso 3.

[PAUSA]

Pero escuchando a Pedro y Laura... claramente me falt√≥ ver backend y seguridad.

Cambio a 5 o 8.'

---

**Scrum Master:** 'OK, resumen:

**Votos originales:**
- Ana: 2 ‚Üí cambi√≥ a 5-8
- Carlos: 3 ‚Üí cambi√≥ a 5-8
- Mar√≠a: 5 ‚Üí mantiene
- Laura: 8 ‚Üí propone split
- Pedro: 13 ‚Üí considera bajar

**Opci√≥n 1:** Estimamos 8 pts y hacemos completo.
**Opci√≥n 2:** Split en 5 pts + 3 pts (propuesta de Laura).

¬øQu√© prefiere el equipo?'

[PAUSA]

**Product Owner interviene:**

'Me gusta el split. Prefiero tener Password Reset b√°sico funcionando en este sprint, y hardening en el siguiente si hay tiempo.'

**Equipo acuerda:**

**HU-3a: 5 puntos (Sprint actual)**
**HU-3b: 3 puntos (Backlog, para despu√©s)**

[FIN DE LA HISTORIA]

---

**Debrief para la clase:**

'¬øQu√© acabamos de ver?

[PAUSA - Esperar respuestas]

**1. Extremos revelaron suposiciones:**
   - Ana asumi√≥ infraestructura lista ‚Üí voto bajo
   - Pedro vio complejidad oculta ‚Üí voto alto
   - Discusi√≥n expuso AMBAS perspectivas

**2. Conocimiento distribuido se captur√≥:**
   - Backend (Ana): infraestructura de email
   - Fullstack (Pedro): seguridad, edge cases
   - Tester (Mar√≠a): complejidad de testing
   - Arquitecta (Laura): propuesta de split
   - Frontend (Carlos): subestim√≥ backend

**3. Resultado NO fue promedio:**
   - (2+3+5+13+8)/5 = 6.2 ‚Üí ¬ø6 pts?
   - NO. Decidieron **split** en 5+3
   - M√°s inteligente que promedio ciego

**4. Historia mejor√≥:**
   - Antes: 'Password Reset' (vaga)
   - Despu√©s: 2 historias con alcances claros
   - Entregable incremental

**5. Alineaci√≥n:**
   - Todos ahora entienden la complejidad
   - Menos sorpresas en implementaci√≥n
   - Expectativas realistas

[CONECTAR con Clase 1]

Esto ES el Malvavisco Challenge en versi√≥n software.

Los ni√±os probaban el malvavisco ANTES de construir.
Planning Poker 'prueba' las suposiciones ANTES de codear.

Evita el colapso de la torre de espaguetis.'"`
            },
            "slide14": {
                        "title": "Proceso Planning Poker - Paso a Paso",
                        "duration": "8 min",
                        "script": "OK, el equipo est√° listo para estimar HU-3 (Password Reset).\n\n[VER SLIDE con 4 pasos]\n\n**Paso 1: Establecer L√≠nea Base**\n\nProduct Owner dice:\n\n'Recordemos: HU-2 (Login b√°sico) fue 3 puntos.\nForm, validaciones, endpoint, hash, email.\nTodos lo completamos hace 5 d√≠as.\nEso es nuestro 3.'\n\nEquipo asiente. Todos recuerdan HU-2.\n\n[PAUSA]\n\n**Paso 2: Presentar Historia**\n\nPO lee HU-3:\n\n'Como usuario que olvid√≥ su contrase√±a,\nQuiero solicitar enlace de reseteo por email,\nPara recuperar el acceso.'\n\nPO explica:\n- Usuario hace click en 'Olvid√© mi contrase√±a'\n- Ingresa email\n- Sistema env√≠a email con enlace temporal\n- Usuario resetea contrase√±a\n\n[PAUSA]\n\n**Paso 3: Clarificar Dudas**\n\nDev pregunta: '¬øEl enlace caduca?'\nPO: 'S√≠, 1 hora.'\n\nTester pregunta: '¬øSe valida que el email existe?'\nPO: 'S√≠, pero NO decimos si existe o no (seguridad).'\n\nArquitecto pregunta: '¬øCu√°ntos tokens simult√°neos puede tener un usuario?'\nPO: 'Mmm... buena pregunta. Supongo que 1. Si pide otro, invalida el anterior.'\n\n[PAUSA]\n\n**Paso 4: Votar Simult√°neamente**\n\nFacilitador (Scrum Master):\n\n'OK, todos claros? Vamos a votar.\n\nPiensen: ¬øHU-3 es m√°s simple, igual, o m√°s complejo que HU-2 (3 pts)?\n\nElijan carta. Boca abajo.\n\n[PAUSA]\n\nListos?\n\n3... 2... 1...\n\n**¬°REVELAR!**'\n\n[PAUSA DRAM√ÅTICA]\n\nVeamos qu√© pas√≥..."
            },
            "slide15": {
                        "title": "La Discusi√≥n - El Coraz√≥n del Taller",
                        "duration": "10 min",
                        "script": "Todos revelan cartas simult√°neamente.\n\n[VER SLIDE]\n\n**Resultado:**\n\n- 3\n- 5\n- 5\n- 8\n- 13\n\n[REACCI√ìN]\n\nENORME dispersi√≥n.\n\nDiferencia de **4.3x** entre extremos (3 vs 13).\n\n[PAUSA]\n\n**Facilitador NO promedia.**\n\nNO dice: 'OK, el promedio es 7, pongamos 8.'\n\n[√âNFASIS]\n\nEl facilitador pide a los **EXTREMOS** que justifiquen.\n\n[LEER DI√ÅLOGO del slide]\n\n**Facilitador al que vot√≥ 13 (rojo):**\n\n'¬øQu√© riesgo o complejidad ve que los dem√°s no vieron?'\n\n**Respuesta (vot√≥ 13):**\n\n'Esto implica:\n- Enviar email\n- Generar token √öNICO\n- Almacenar token en DB (tabla nueva?)\n- Validar expiraci√≥n\n- Construir p√°gina de reseteo\n\nHay mucha incertidumbre. No sabemos si tenemos servicio de email configurado.\nNo sabemos c√≥mo generar tokens seguros.\nToken temporal significa tabla nueva o campo en users.\n\nPor eso: **13 puntos**.'\n\n[PAUSA LARGA]\n\n**Facilitador al que vot√≥ 3 (verde):**\n\n'¬øPor qu√© piensa que es igual de simple que el login?'\n\n**Respuesta (vot√≥ 3):**\n\n'Ah... no hab√≠a pensado en la generaci√≥n del token.\nNi en el servicio de email.\nSolo pens√© en el formulario: ingresar email, validar, enviar.\n\nAsum√≠ que el backend ya ten√≠a email y tokens.\n\n[PAUSA]\n\nAhora que escucho al que vot√≥ 13... veo que hay m√°s complejidad.'\n\n[√âNFASIS - LA MAGIA]\n\n**Esto es lo VALIOSO.**\n\nLas suposiciones ocultas salieron a la luz:\n- Uno asumi√≥ infraestructura lista\n- Otro vio todo lo que falta\n\nAhora **TODOS** entienden el alcance real.\n\n[TRANSICI√ìN]\n\nSegunda ronda..."
            },
            "slide16": {
                        "title": "Re-votaci√≥n y Consenso",
                        "duration": "7 min",
                        "script": "Despu√©s de la discusi√≥n, el facilitador dice:\n\n[VER SLIDE]\n\n'OK, hemos **APRENDIDO** algo. Volvamos a votar.'\n\n[PAUSA]\n\n**Segunda ronda:**\n\nTodos votan de nuevo, con nueva informaci√≥n.\n\n[REVELAR]\n\n**Resultado:**\n\n- 5\n- 5\n- 5\n- 8\n- 8\n\n[AN√ÅLISIS]\n\n**¬°Convergencia!**\n\nPrimera ronda: 3 a 13 (dispersi√≥n enorme)\nSegunda ronda: 5 a 8 (rango aceptable: ¬±1 Fibonacci)\n\n[DECISI√ìN]\n\nFacilitador:\n\n'OK, tenemos 3 votos en 5, y 2 votos en 8.\n\n¬øLos que votaron 8, pueden aceptar 5?\n¬øO hay algo cr√≠tico que necesitamos considerar?'\n\n**Respuesta (vot√≥ 8):**\n\n'Mi 8 era por incertidumbre en email.\nPero si asumimos que el servicio de email est√° configurado, puedo aceptar 5.'\n\n[CONSENSO]\n\n**HU-3: Password Reset = 5 puntos**\n\n[PAUSA]\n\n**IMPORTANTE:**\n\nEl n√∫mero (5) NO es lo m√°s valioso.\n\nLo valioso fue:\n1. **Exposici√≥n de suposiciones** (servicio de email, tokens)\n2. **Identificaci√≥n de riesgos** (tabla nueva, seguridad)\n3. **Alineaci√≥n del equipo** (todos entienden alcance)\n4. **Decisi√≥n de qu√© investigar** (configurar email antes de sprint)\n\n[√âNFASIS]\n\nEl equipo ahora sabe que antes de HU-3, deben:\n- Verificar servicio de email\n- Decidir estrategia de tokens\n- Dise√±ar tabla de reset_tokens\n\n[TRANSICI√ìN]\n\nVeamos las lecciones clave..."
            },
            "slide17": {
                        "title": "Debriefing - Lecciones del Planning Poker",
                        "duration": "8 min",
                        "script": "Debriefing: ¬øQu√© aprendimos?\n\n[VER SLIDE]\n\n[√âNFASIS CENTRAL]\n\n**El objetivo NO era el n√∫mero (el 5).**\n\nEl objetivo era la **CONVERSACI√ìN que ocurri√≥ entre el 13 y el 3**.\n\n[PAUSA LARGA]\n\nEsa conversaci√≥n expuso:\n- Suposiciones ocultas\n- Riesgos no considerados\n- Complejidades t√©cnicas\n- Dependencias externas\n\n[LEER LECCIONES del slide]\n\n**¬øPor qu√© funciona Planning Poker?**\n\n**1. Votaci√≥n an√≥nima y simult√°nea:**\n   - Previene anclaje\n   - Junior no copia a senior\n   - Todos piensan independientemente\n\n**2. Exposici√≥n de suposiciones:**\n   - El '13' vio el riesgo del token\n   - El '3' asumi√≥ infraestructura lista\n   - La discusi√≥n aline√≥ entendimiento\n\n**3. Identificaci√≥n temprana de riesgos:**\n   - Descubrimos complejidades ANTES de codear\n   - Mejor momento para decidir: ¬ødividir historia? ¬øinvestigar primero?\n\n**4. Construcci√≥n de consenso:**\n   - TODO el equipo entiende\n   - TODO el equipo acuerda\n   - Ownership distribuido\n\n**5. Aprendizaje colectivo:**\n   - Conocimiento se distribuye\n   - Junior aprende de senior\n   - Tester aprende de dev, dev aprende de tester\n\n[CONECTAR con Clase 1]\n\n¬øRecuerdan el Uncertainty Cone?\n\n¬±400% al inicio, ¬±10% al final.\n\nPlanning Poker es **reducci√≥n activa de incertidumbre**:\n- Primera votaci√≥n: alta dispersi√≥n (incertidumbre)\n- Discusi√≥n: reducci√≥n de incertidumbre\n- Segunda votaci√≥n: convergencia (certeza)\n\n[ANALOG√çA]\n\nEs como el Marshmallow Challenge:\n\nNi√±os iteraban ‚Üí constru√≠an ‚Üí aprend√≠an ‚Üí ajustaban.\n\nPlanning Poker:\nEstimaban ‚Üí discut√≠an ‚Üí aprend√≠an ‚Üí re-estimaban.\n\n**Ambos usan FEEDBACK para reducir incertidumbre.**\n\n[PREGUNTA RET√ìRICA]\n\n'OK, tenemos Story Points. ¬øC√≥mo los convertimos en FECHAS?'\n\n[RESPUESTA]\n\nCon **Velocidad**.\n\nVeamos..."
            },
            "slide18": {
                        "title": "Velocidad - De Points a Forecasting",
                        "duration": "12 min",
                        "script": "Una vez que el equipo estima en Story Points, puede calcular su **VELOCIDAD**.\n\n[VER SLIDE]\n\n**¬øQu√© es Velocidad?**\n\nCantidad de Story Points que el equipo **completa por Sprint**.\n\n[EJEMPLO en slide]\n\nSprint 1: 23 puntos completados\nSprint 2: 27 puntos completados\nSprint 3: 25 puntos completados\n\n**Velocidad promedio: 25 puntos/sprint**\n\n[√âNFASIS]\n\nVelocidad NO es estimaci√≥n. Es **MEDICI√ìN**.\n\nEs dato emp√≠rico: 'Este equipo, en este contexto, completa ~25 pts cada 2 semanas.'\n\n[PAUSA]\n\n**¬øPor qu√© es importante?**\n\nPorque ahora podemos hacer **FORECASTING**.\n\n[EJEMPLO]\n\n**Situaci√≥n:**\n\nBacklog tiene 120 Story Points.\nEquipo tiene velocidad de 25 pts/sprint.\nSprints son de 2 semanas.\n\n**C√°lculo:**\n\n120 pts √∑ 25 pts/sprint = **4.8 sprints**\n\n‚âà **5 sprints**\n\n5 sprints √ó 2 semanas = **10 semanas**\n\n[PAUSA]\n\n**Respuesta al stakeholder:**\n\n'Basado en velocidad hist√≥rica, estimamos ~10 semanas.'\n\n[√âNFASIS - HONESTIDAD]\n\nNO decimos: 'Lo termino en 10 semanas.'\n\nDecimos: 'Basado en datos, proyectamos 10 semanas ¬±20%.'\n\n[BENEFICIOS de Velocidad]\n\n**1. Forecast emp√≠rico:**\n   - No adivinar\n   - Usar datos reales\n\n**2. Comunicaci√≥n con stakeholders:**\n   - Lenguaje compartido\n   - Expectativas realistas\n\n**3. Detecci√≥n de anomal√≠as:**\n   - Si velocidad cae de 25 a 15: ¬øqu√© pas√≥?\n   - Impedimentos, ausentismo, deuda t√©cnica\n\n**4. Mejora continua:**\n   - Velocidad aumenta ‚Üí mejoras funcionan\n   - Velocidad baja ‚Üí investigar causas\n\n[ADVERTENCIAS]\n\n‚ùå **NO comparar velocidades entre equipos**\n   - Equipo A: 40 pts/sprint\n   - Equipo B: 25 pts/sprint\n   - NO significa A es mejor. Cada equipo tiene su baseline.\n\n‚ùå **NO usar velocidad como KPI de performance**\n   - Presionar para aumentar velocidad ‚Üí inflaci√≥n de puntos\n   - 'Ahora Login es 5 pts en vez de 3' (misma complejidad, diferente n√∫mero)\n\n‚ùå **NO calcular velocidad con menos de 3 sprints**\n   - Sprint 1: 15 (aprendiendo)\n   - Sprint 2: 28 (pico)\n   - Sprint 3: 24 (estable)\n   - Promedio estable despu√©s de 3-5 sprints\n\n[TRANSICI√ìN]\n\nOK, ahora sabemos:\n- PERT/CPM: estimaci√≥n en tiempo\n- Story Points: estimaci√≥n en complejidad relativa\n- Planning Poker: consenso colaborativo\n- Velocidad: forecast emp√≠rico\n\n¬øC√≥mo estos m√©todos se relacionan?\n\nVeamos un flujo de refinamiento progresivo..."
            },
            "slide19": {
                        "title": "Flujo de Refinamiento Progresivo",
                        "duration": "6 min",
                        "script": "Antes de la tabla comparativa, un concepto muy pr√°ctico: **Refinamiento Progresivo**.\n\n[LEER slide]\n\n**Refinamiento Progresivo** combina T-Shirt Sizing y Story Points en fases:\n\n[EXPLICAR Fase 1]\n\n**1. Fase Roadmap (Trimestral):**\n\nEst√°s planificando el trimestre.\n\nTen√©s 50 Epics en backlog.\n\nNO necesit√°s precisi√≥n. Necesit√°s orden de magnitud.\n\n**Proceso:**\n- Stakeholders y PO asignan T-Shirt: XS, S, M, L, XL\n- Duraci√≥n: 2 horas para 50 Epics\n- Resultado: Roadmap aproximado ('Tenemos 10 L, 15 M, 25 S')\n\n**Ejemplo:**\n'Migrar base de datos a Azure SQL' ‚Üí Esto es un **Large** (L)\n\nNO sabemos exactamente cu√°nto toma. Pero sabemos que es grande.\n\n[EXPLICAR Fase 2]\n\n**2. Fase Sprint Planning (Quincenal):**\n\nAhora est√°s planificando el pr√≥ximo sprint (2 semanas).\n\nEl Epic 'L' (Migrar DB) est√° en top priority.\n\nAh√≠ lo **refin√°s**:\n\nProceso:\n- Dividir Epic L en User Stories m√°s chicas\n- Sesi√≥n de Planning Poker para estimar cada historia\n- Asignar Story Points (Fibonacci)\n\n**Ejemplo:**\n\nEpic 'Migrar DB' (L) se divide en:\n- 'Configurar servidor Azure' ‚Üí 5 pts\n- 'Migrar esquema de tablas' ‚Üí 8 pts\n- 'Validar integridad de datos' ‚Üí 3 pts\n\nTotal: 16 pts (confirma que era L).\n\n[PAUSA]\n\n**Beneficio:**\n\nNO perd√©s tiempo estimando con precisi√≥n cosas que van a cambiar.\n\nSolo refin√°s lo que vas a trabajar PRONTO.\n\n[ANALOG√çA]\n\nImagina que planificas un viaje de 3 meses por Europa.\n\n**Fase Roadmap:** 'Voy a Par√≠s (1 semana), Roma (1 semana), Berl√≠n (1 semana)...'\n\n**Fase Sprint Planning:** Ahora est√°s por viajar a Par√≠s la semana que viene.\n\nAh√≠ planificas d√≠a a d√≠a: 'Lunes Louvre, Martes Torre Eiffel, Mi√©rcoles Versalles...'\n\nNO planificas Roma d√≠a a d√≠a AHORA. Lo hac√©s cuando est√©s cerca.\n\n[√âNFASIS]\n\nEsto es **refinamiento progresivo**:\n\nDe lo general (T-Shirt) a lo espec√≠fico (Story Points).\n\nDel trimestre (Roadmap) al sprint (Planning).\n\n[TRANSICI√ìN]\n\nAhora, la tabla comparativa de todos los m√©todos...\""
            },
            "slide20": {
                        "title": "Cuadro Comparativo de M√©todos",
                        "duration": "7 min",
                        "script": "OK, pongamos todo en perspectiva.\n\n[LEER TABLA]\n\n**Cuadro Comparativo:**\n\n| M√©todo | Escala | Uso Principal | Ventaja Clave |\n\n[IR FILA POR FILA]\n\n**1. PERT:**\n- **Escala:** 3 puntos (Optimista, M√°s Probable, Pesimista)\n- **Uso:** Tareas individuales con incertidumbre\n- **Ventaja:** Cuantifica incertidumbre con desviaci√≥n est√°ndar\n\n**Ejemplo:** 'Implementar autenticaci√≥n: O=3 d√≠as, M=7 d√≠as, P=15 d√≠as ‚Üí Œº=7.7 d√≠as, œÉ=2 d√≠as'\n\n**Cu√°ndo usar:** Proyectos con tareas bien definidas pero timing incierto.\n\n[PAUSA]\n\n**2. CPM (Critical Path Method):**\n- **Escala:** D√≠as fijos\n- **Uso:** Identificar ruta cr√≠tica en proyecto con dependencias\n- **Ventaja:** Determina duraci√≥n total, muestra d√≥nde optimizar\n\n**Ejemplo:** 'Ruta A‚ÜíB‚ÜíD toma 21 d√≠as (cr√≠tica), Ruta A‚ÜíC‚ÜíE toma 15 d√≠as (holgura 6 d√≠as)'\n\n**Cu√°ndo usar:** Proyectos tipo cascada con tareas secuenciales claras.\n\n[PAUSA]\n\n**3. T-Shirt Sizing:**\n- **Escala:** XS, S, M, L, XL, XXL\n- **Uso:** Roadmaps trimestrales, Epics\n- **Ventaja:** R√°pido, intuitivo, sin falsa precisi√≥n\n\n**Ejemplo:** 'Migraci√≥n de DB es L, Nuevo dashboard es M, Fix bug es XS'\n\n**Cu√°ndo usar:** Backlog grande que necesita clasificaci√≥n r√°pida.\n\n[PAUSA]\n\n**4. Story Points:**\n- **Escala:** Fibonacci (0, 1, 2, 3, 5, 8, 13, 21...)\n- **Uso:** Sprint Planning, c√°lculo de Velocidad\n- **Ventaja:** Precisi√≥n relativa, separa complejidad de tiempo\n\n**Ejemplo:** 'Login b√°sico es 2 pts, Registro es 3 pts (baseline), Checkout es 8 pts'\n\n**Cu√°ndo usar:** Equipos √°giles con sprints recurrentes.\n\n[PAUSA]\n\n**5. Planning Poker:**\n- **Escala:** N/A (es un proceso, no una escala)\n- **Uso:** Lograr consenso de equipo en estimaciones\n- **Ventaja:** Expone suposiciones ocultas, alinea entendimiento\n\n**Ejemplo:** 'Dev dice 2 pts, Tester dice 8 pts ‚Üí discuten ‚Üí descubren que Dev olvid√≥ testing E2E'\n\n**Cu√°ndo usar:** SIEMPRE que estimes con Story Points. Es EL m√©todo para hacerlo.\n\n[RESUMEN]\n\nNing√∫n m√©todo es 'mejor' que otro.\n\nCada uno sirve para un **contexto** diferente.\n\nLa pregunta no es '¬øCu√°l es el mejor?'\n\nLa pregunta es '¬øCu√°l es el apropiado PARA ESTE proyecto?'\n\n[TRANSICI√ìN]\n\nVeamos eso m√°s en detalle...\""
            },
            "slide21": {
                        "title": "¬øCu√°ndo Usar Cada M√©todo?",
                        "duration": "8 min",
                        "script": "La pregunta del mill√≥n: **¬øCu√°ndo usar qu√©?**\n\n[LEER SLIDE - Secci√≥n 1]\n\n**PERT / CPM:**\n\n**Contexto ideal:**\n- Construcci√≥n, Ingenier√≠a, Manufactura\n- Proyectos predecibles con tareas claras\n- Alcance bien definido desde el inicio\n- Pocas restricciones de recursos (o f√°ciles de gestionar)\n\n**Ejemplo real:**\nConstruir un puente.\n\n- Tareas: Cimientos, Pilares, Estructura, Pavimento\n- Dependencias: Claras (no pod√©s hacer pilares antes de cimientos)\n- Timing: Relativamente predecible\n- Recursos: Cuadrillas especializadas asignadas por fase\n\n**Ventaja de PERT/CPM aqu√≠:**\nPERT captura incertidumbre (clima, retrasos de materiales).\nCPM identifica ruta cr√≠tica (si pilares se retrasan, TODO se retrasa).\n\n[PAUSA]\n\n**Cu√°ndo NO usar PERT/CPM:**\n\n‚ùå Requisitos cambiantes (no funciona si el cliente cambia de idea mid-proyecto)\n‚ùå Alta incertidumbre t√©cnica (no sab√©s C√ìMO resolver el problema)\n‚ùå Recursos contendidos (misma persona en m√∫ltiples tareas)\n\n[LEER SLIDE - Secci√≥n 2]\n\n**Agile (T-Shirt + Story Points + Planning Poker):**\n\n**Contexto ideal:**\n- Software, I+D, Innovaci√≥n\n- Requisitos emergentes o cambiantes\n- Alta incertidumbre en el QU√â construir\n- Necesidad de feedback frecuente\n\n**Ejemplo real:**\nStartup construyendo MVP de app m√≥vil.\n\n- NO sab√©s exactamente qu√© features van a resonar con usuarios\n- Cada sprint descubr√≠s algo nuevo\n- Prioriz√°s seg√∫n feedback\n- Velocidad permite forecasting emp√≠rico\n\n**Ventaja de Agile aqu√≠:**\nNo perd√©s 6 meses planificando algo que va a cambiar.\nIter√°s, aprend√©s, pivot√°s.\n\n[PAUSA]\n\n**Cu√°ndo NO usar Agile:**\n\n‚ùå Requisitos fijos y contractuales (cliente quiere exactitud desde d√≠a 1)\n‚ùå Proyectos con dependencias externas r√≠gidas (ej: lanzamiento sincronizado con hardware)\n‚ùå Equipos sin autonom√≠a (necesitan aprobaciones para cada decisi√≥n)\n\n[√âNFASIS]\n\nLa diferencia clave:\n\n**PERT/CPM asume:** 'Sabemos QU√â construir, estimemos CU√ÅNTO toma.'\n\n**Agile asume:** 'NO sabemos QU√â construir, aprendamos HACIENDO.'\n\n[PAUSA - Gancho Clase 3]\n\n[LEER mensaje final del slide]\n\n'Pr√≥xima clase: ¬øQu√© m√©todo gestiona mejor los RECURSOS y el RIESGO?'\n\n[TONO misterioso]\n\nPista: Ni PERT, ni Agile lo hacen perfecto.\n\nCCPM tiene una respuesta diferente.\n\n[TRANSICI√ìN]\n\nHablando de Clase 3, refresquemos la pregunta cr√≠tica...\""
            },
            "slide22": {
                        "title": "La Pregunta Cr√≠tica (Reprise)",
                        "duration": "5 min",
                        "script": "Recordemos la pregunta de Clase 1.\n\n[LEER slide - mensaje central]\n\n**¬øD√ìNDE ponemos la seguridad para proteger REALMENTE al proyecto?**\n\n[PAUSA]\n\nVimos 3 respuestas hoy:\n\n[LEER respuestas]\n\n**1. CPM la pone en HOLGURA distribuida:**\n\nCada tarea tiene su colch√≥n.\n\nProblema: Parkinson come el colch√≥n. Student Syndrome desperdicia tiempo temprano.\n\n**Resultado:** Vulnerable.\n\n[PAUSA]\n\n**2. Agile la maneja con ITERACI√ìN:**\n\nNo planific√°s 6 meses. Planific√°s 2 semanas.\n\nCada sprint re-planific√°s basado en lo aprendido.\n\n**Resultado:** Adaptabilidad, pero NO protege timeline global.\n\n[PAUSA]\n\n**3. CCPM tiene una respuesta diferente: BUFFERS AGREGADOS**\n\n[√âNFASIS - tono intrigante]\n\n¬øQu√© significa 'agregado'?\n\nEn vez de colchones en CADA tarea...\n\n...CCPM pone UN buffer GRANDE al final.\n\n[PAUSA]\n\nEsto suena contra-intuitivo.\n\n'¬øC√≥mo puede ser MEJOR poner todo el margen al final?'\n\nEsa es la pregunta que vamos a responder en Clase 3.\n\n[SPOILER parcial]\n\nLes adelanto el concepto:\n\nSi cada tarea tiene colch√≥n, Parkinson lo come.\n\nSi NADIE tiene colch√≥n individual, trabajan a velocidad realista.\n\nY el buffer agregado al final PROTEGE sin ser desperdiciado.\n\n[PAUSA]\n\nEs como el Marshmallow Challenge:\n\nMBAs planearon con colchones individuales ‚Üí perdieron tiempo.\n\nNi√±os trabajaron r√°pido sin colchones ‚Üí el 'buffer' era iterar.\n\n[TONO de cierre]\n\nCCPM es el m√©todo que MENOS gente conoce...\n\n...pero el que M√ÅS impacto real tiene en cronogramas.\n\n[TRANSICI√ìN]\n\nAntes de cerrar, resumen de hoy...\""
            },
            "slide23": {
                        "title": "Resumen de la Clase 2",
                        "duration": "4 min",
                        "script": "Resumen de la Clase 2.\n\n[LEER lista completa]\n\n**M√©todos Aprendidos:**\n\n‚úÖ **PERT (3 puntos):**\nDuraci√≥n Esperada = (O + 4M + P) / 6\nDesviaci√≥n Est√°ndar = (P - O) / 6\n\n‚úÖ **CPM (Ruta Cr√≠tica):**\nIdentifica secuencia m√°s larga.\nHolgura en tareas no-cr√≠ticas.\nPero ignora recursos y factores humanos.\n\n‚úÖ **T-Shirt Sizing:**\nXS, S, M, L, XL para roadmaps y epics.\nR√°pido, intuitivo, sin falsa precisi√≥n.\n\n‚úÖ **Story Points:**\nFibonacci (0, 1, 2, 3, 5, 8, 13, 21).\nRepresenta Esfuerzo + Complejidad + Incertidumbre.\nRelativo, no absoluto.\n\n‚úÖ **Planning Poker:**\nConsenso colaborativo.\nVotaci√≥n an√≥nima, revelar simult√°neo.\nDiscusi√≥n de extremos expone suposiciones.\n\n‚úÖ **Velocidad:**\nPuntos completados por sprint.\nPermite forecasting emp√≠rico: (Backlog / Velocidad = Sprints).\n\n‚úÖ **Flujo de Refinamiento Progresivo:**\nT-Shirt Sizing para trimestre ‚Üí Story Points para sprint.\nRefinas solo lo que vas a trabajar pronto.\n\n[PAUSA]\n\n**Concepto clave de hoy:**\n\nNo hay 'mejor m√©todo'.\n\nHay 'm√©todo apropiado para este contexto'.\n\nPERT/CPM: Proyectos predecibles.\nAgile: Proyectos emergentes.\nCCPM: (pr√≥xima clase) Proyectos con recursos contendidos.\n\n[LEER mensaje final]\n\nüéØ **Pr√≥xima Clase:**\n\nCadena Cr√≠tica (CCPM) - La soluci√≥n de Goldratt.\n\nC√≥mo gestionar recursos Y buffers simult√°neamente.\n\nEl caso A-B-C-D que muestra por qu√© CPM falla.\n\n[TONO entusiasta]\n\nEs la clase m√°s contra-intuitiva.\n\nY la m√°s poderosa.\n\nNo se la pierdan.\n\n[TRANSICI√ìN]\n\n¬°Gracias por participar activamente en Planning Poker!\n\nNos vemos en Clase 3.\""
            },
            "slide24": {
                        "title": "Fin de la Clase 2",
                        "duration": "1 min",
                        "script": "¬°Fin de la Clase 2!\n\n[PAUSA]\n\nGracias por su participaci√≥n activa en Planning Poker.\n\nEspero que hayan visto el valor de estimar colaborativamente.\n\nNo solo obtenemos n√∫meros.\n\nObtenemos **alineaci√≥n** de suposiciones.\n\n[PAUSA]\n\n**Nos vemos en Clase 3:**\n\nCadena Cr√≠tica y Gesti√≥n de Buffers.\n\nEl m√©todo que cambia TODO.\n\n[DESPEDIDA]\n\n¬°Hasta la pr√≥xima!\n\n**Alejandro Sfrede**\n√Årea de Arquitectura\""
            }
};

        // Navigation and TTS Variables
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        let touchStartX = 0;
        let touchEndX = 0;
        let speechSynthesis = window.speechSynthesis;
        let currentUtterance = null;
        let currentSpeed = 1.2; // Default 1.2x for teaching
        let ttsMode = 'browser'; // 'browser' or 'openai'
        let currentVoice = 'browser:es-ES-female'; // Default voice
        let selectedBrowserVoice = null;
        let selectedOpenAIVoice = 'nova';
        const OPENAI_API_KEY = CONFIG.OPENAI_API_KEY; // Loaded from config.js
        let isSpeaking = false;

        // Show Slide Function
        function showSlide(n) {
            if (n >= totalSlides) n = totalSlides - 1;
            if (n < 0) n = 0;

            currentSlide = n;

            slides.forEach((slide, index) => {
                slide.classList.remove('active');
                if (index === currentSlide) {
                    slide.classList.add('active');
                }
            });

            // Update progress bar
            const progress = ((currentSlide + 1) / totalSlides) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            // Update counter
            document.getElementById('slideCounter').textContent = `${currentSlide + 1} / ${totalSlides}`;

            // Update buttons
            document.getElementById('prevBtn').disabled = (currentSlide === 0);
            document.getElementById('nextBtn').disabled = (currentSlide === totalSlides - 1);

            // Update sidebar content
            updateSidebarContent();

            // Stop TTS when changing slides
            stopTTS();
        }

        function changeSlide(direction) {
            showSlide(currentSlide + direction);
        }

        // Update Sidebar Content
        function updateSidebarContent() {
            const slideKey = `slide${currentSlide + 1}`;
            const speechData = speechDataClase2[slideKey];

            if (speechData) {
                document.getElementById('speechTitle').textContent = speechData.title;
                document.getElementById('speechDuration').textContent = speechData.duration;

                // Format script with visual markers
                const formattedScript = formatScriptWithMarkers(speechData.script);
                document.getElementById('speechContent').innerHTML = formattedScript;
            }
        }

        // Format Script with Visual Markers
        function formatScriptWithMarkers(script) {
            let formatted = script;

            // Replace markers with styled spans
            formatted = formatted.replace(/\[PAUSA\]/g, '<span class="marker marker-pausa">‚è∏ PAUSA</span>');
            formatted = formatted.replace(/\[√âNFASIS\]/g, '<span class="marker marker-enfasis">‚Äº √âNFASIS</span>');
            formatted = formatted.replace(/\[TRANSICI√ìN\]/g, '<span class="marker marker-transicion">‚û° TRANSICI√ìN</span>');
            formatted = formatted.replace(/\[LEER[^\]]*\]/g, '<span class="marker marker-leer">üìñ LEER</span>');
            formatted = formatted.replace(/\[PREGUNTAS?\]/g, '<span class="marker marker-preguntas">‚ùì PREGUNTAS</span>');
            formatted = formatted.replace(/\[SE√ëALAR[^\]]*\]/g, '<span class="marker marker-leer">üëâ SE√ëALAR</span>');
            formatted = formatted.replace(/\[VER[^\]]*\]/g, '<span class="marker marker-leer">üëÄ VER</span>');
            formatted = formatted.replace(/\[TONO[^\]]*\]/g, '<span class="marker marker-enfasis">üé≠ TONO</span>');
            formatted = formatted.replace(/\[ANALOG√çA\]/g, '<span class="marker marker-transicion">üí° ANALOG√çA</span>');
            formatted = formatted.replace(/\[EJEMPLO[^\]]*\]/g, '<span class="marker marker-transicion">üìù EJEMPLO</span>');
            formatted = formatted.replace(/\[CASO[^\]]*\]/g, '<span class="marker marker-transicion">üìä CASO</span>');
            formatted = formatted.replace(/\[CONEXI√ìN[^\]]*\]/g, '<span class="marker marker-transicion">üîó CONEXI√ìN</span>');
            formatted = formatted.replace(/\[MENSAJE[^\]]*\]/g, '<span class="marker marker-enfasis">üí¨ MENSAJE</span>');
            formatted = formatted.replace(/\[RECAPITULAR\]/g, '<span class="marker marker-leer">üìã RECAPITULAR</span>');
            formatted = formatted.replace(/\[PREGUNTA[^\]]*\]/g, '<span class="marker marker-preguntas">‚ùì PREGUNTA</span>');
            formatted = formatted.replace(/\[ESPERAR[^\]]*\]/g, '<span class="marker marker-pausa">‚è≥ ESPERAR</span>');
            formatted = formatted.replace(/\[CONTRASTE\]/g, '<span class="marker marker-transicion">‚öñ CONTRASTE</span>');
            formatted = formatted.replace(/\[APLICACI√ìN\]/g, '<span class="marker marker-transicion">üîß APLICACI√ìN</span>');
            formatted = formatted.replace(/\[DIFERENCIA\]/g, '<span class="marker marker-transicion">‚Üî DIFERENCIA</span>');
            formatted = formatted.replace(/\[EXPLICAR\]/g, '<span class="marker marker-leer">üì¢ EXPLICAR</span>');
            formatted = formatted.replace(/\[AN√ÅLISIS\]/g, '<span class="marker marker-leer">üîç AN√ÅLISIS</span>');
            formatted = formatted.replace(/\[TRADUCCI√ìN[^\]]*\]/g, '<span class="marker marker-transicion">üîÑ TRADUCCI√ìN</span>');
            formatted = formatted.replace(/\[LECCI√ìN[^\]]*\]/g, '<span class="marker marker-enfasis">üéì LECCI√ìN</span>');
            formatted = formatted.replace(/\[WARNING[^\]]*\]/g, '<span class="marker marker-enfasis">‚ö† WARNING</span>');
            formatted = formatted.replace(/\[RESULTADOS\]/g, '<span class="marker marker-leer">üìä RESULTADOS</span>');
            formatted = formatted.replace(/\[CONTEXTO[^\]]*\]/g, '<span class="marker marker-leer">üìö CONTEXTO</span>');
            formatted = formatted.replace(/\[ANTICIPAR\]/g, '<span class="marker marker-pausa">üîÆ ANTICIPAR</span>');
            formatted = formatted.replace(/\[SONRE√çR\]/g, '<span class="marker marker-pausa">üòä SONRE√çR</span>');

            return formatted;
        }

        // Voice Selection Function
        function onVoiceChange() {
            const selector = document.getElementById('voiceSelector');
            currentVoice = selector.value;

            // Parse mode and voice
            const [mode, voice] = currentVoice.split(':');
            ttsMode = mode;

            // Stop current TTS if playing
            if (isSpeaking) {
                stopTTS();
            }

            // Update status
            const statusDiv = document.getElementById('ttsStatus');
            if (mode === 'openai') {
                selectedOpenAIVoice = voice;
                statusDiv.textContent = `‚ú® OpenAI: ${voice}`;
                statusDiv.style.color = '#667eea';
            } else {
                // Find best matching browser voice
                selectedBrowserVoice = findBrowserVoice(voice);
                statusDiv.textContent = selectedBrowserVoice ?
                    `üîä ${selectedBrowserVoice.name}` :
                    'üîä Navegador (gratis)';
                statusDiv.style.color = '#888';
            }
        }

        // Find Browser Voice by preference
        function findBrowserVoice(preference) {
            const voices = speechSynthesis.getVoices();

            // Map preference to search patterns
            const patterns = {
                'es-ES-female': [/es-ES.*female/i, /es-ES.*mujer/i, /Spanish.*Spain.*female/i],
                'es-ES-male': [/es-ES.*male/i, /es-ES.*hombre/i, /Spanish.*Spain.*male/i],
                'es-MX-female': [/es-MX.*female/i, /es-MX.*mujer/i, /Spanish.*Mexico.*female/i],
                'es-MX-male': [/es-MX.*male/i, /es-MX.*hombre/i, /Spanish.*Mexico.*male/i],
                'es-AR-female': [/es-AR.*female/i, /es-AR.*mujer/i, /Spanish.*Argentina.*female/i]
            };

            const patternsToTry = patterns[preference] || [];

            // Try each pattern
            for (const pattern of patternsToTry) {
                const match = voices.find(v => pattern.test(v.name));
                if (match) return match;
            }

            // Fallback: any Spanish voice
            const anySpanish = voices.find(v => v.lang.startsWith('es'));
            if (anySpanish) return anySpanish;

            // Last resort: first voice
            return voices[0] || null;
        }

        // TTS Functions
        function toggleTTS() {
            if (isSpeaking) {
                pauseTTS();
            } else {
                playTTS();
            }
        }

        function playTTS() {
            if (ttsMode === 'openai') {
                playTTS_OpenAI();
            } else {
                playTTS_Browser();
            }
        }

        // Browser TTS (Native Web Speech API)
        function playTTS_Browser() {
            const slideKey = `slide${currentSlide + 1}`;
            const speechData = speechDataClase2[slideKey];

            if (!speechData) return;

            // Clean script from markers for TTS
            let cleanScript = speechData.script;
            cleanScript = cleanScript.replace(/\[[^\]]+\]/g, ''); // Remove all [MARKERS]
            cleanScript = cleanScript.replace(/\n\n+/g, '. '); // Replace double newlines with period
            cleanScript = cleanScript.replace(/\s+/g, ' '); // Normalize whitespace
            cleanScript = cleanScript.trim();

            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }

            currentUtterance = new SpeechSynthesisUtterance(cleanScript);
            currentUtterance.lang = 'es-ES';
            currentUtterance.rate = currentSpeed;
            currentUtterance.pitch = 1.0;
            currentUtterance.volume = 1.0;

            // Use selected browser voice
            if (selectedBrowserVoice) {
                currentUtterance.voice = selectedBrowserVoice;
                console.log('Using voice:', selectedBrowserVoice.name);
            }

            currentUtterance.onstart = function() {
                isSpeaking = true;
                document.getElementById('ttsPlay').textContent = '‚è∏';
                document.getElementById('ttsPlay').classList.add('active');
                document.getElementById('ttsStop').disabled = false;
            };

            currentUtterance.onend = function() {
                isSpeaking = false;
                document.getElementById('ttsPlay').textContent = '‚ñ∂';
                document.getElementById('ttsPlay').classList.remove('active');
                document.getElementById('ttsStop').disabled = true;
            };

            currentUtterance.onerror = function(event) {
                console.error('TTS Error:', event);
                isSpeaking = false;
                document.getElementById('ttsPlay').textContent = '‚ñ∂';
                document.getElementById('ttsPlay').classList.remove('active');
            };

            speechSynthesis.speak(currentUtterance);
        }

        // OpenAI TTS (Professional Quality)
        async function playTTS_OpenAI() {
            const slideKey = `slide${currentSlide + 1}`;
            const speechData = speechDataClase2[slideKey];

            if (!speechData) return;

            // Clean script from markers
            let cleanScript = speechData.script;
            cleanScript = cleanScript.replace(/\[[^\]]+\]/g, ''); // Remove all [MARKERS]
            cleanScript = cleanScript.replace(/\n\n+/g, '. '); // Replace double newlines with period
            cleanScript = cleanScript.replace(/\s+/g, ' '); // Normalize whitespace
            cleanScript = cleanScript.trim();

            // Limit to 4096 characters (OpenAI TTS limit)
            if (cleanScript.length > 4000) {
                cleanScript = cleanScript.substring(0, 4000) + '...';
            }

            // Update UI
            isSpeaking = true;
            document.getElementById('ttsPlay').textContent = '‚è∏';
            document.getElementById('ttsPlay').classList.add('active');
            document.getElementById('ttsStop').disabled = false;
            document.getElementById('ttsStatus').textContent = 'üéôÔ∏è Generando audio profesional...';
            document.getElementById('ttsStatus').style.color = '#667eea';

            try {
                const response = await fetch('https://api.openai.com/v1/audio/speech', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${OPENAI_API_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: 'tts-1', // or 'tts-1-hd' for higher quality
                        input: cleanScript,
                        voice: selectedOpenAIVoice,
                        speed: currentSpeed
                    })
                });

                if (!response.ok) {
                    throw new Error(`OpenAI API Error: ${response.status} ${response.statusText}`);
                }

                const audioBlob = await response.blob();
                const audioUrl = URL.createObjectURL(audioBlob);
                const audio = new Audio(audioUrl);

                audio.onplay = function() {
                    document.getElementById('ttsStatus').textContent = 'üéôÔ∏è Reproduciendo audio profesional';
                };

                audio.onended = function() {
                    isSpeaking = false;
                    document.getElementById('ttsPlay').textContent = '‚ñ∂';
                    document.getElementById('ttsPlay').classList.remove('active');
                    document.getElementById('ttsStop').disabled = true;
                    document.getElementById('ttsStatus').textContent = `‚ú® OpenAI: ${selectedOpenAIVoice}`;
                    URL.revokeObjectURL(audioUrl);
                };

                audio.onerror = function(error) {
                    console.error('Audio playback error:', error);
                    isSpeaking = false;
                    document.getElementById('ttsPlay').textContent = '‚ñ∂';
                    document.getElementById('ttsPlay').classList.remove('active');
                    document.getElementById('ttsStatus').textContent = '‚ùå Error al reproducir audio';
                    document.getElementById('ttsStatus').style.color = '#ff4444';
                };

                // Store audio element for stop/pause control
                window.currentAudio = audio;

                audio.play();

            } catch (error) {
                console.error('OpenAI TTS Error:', error);
                isSpeaking = false;
                document.getElementById('ttsPlay').textContent = '‚ñ∂';
                document.getElementById('ttsPlay').classList.remove('active');
                document.getElementById('ttsStatus').textContent = `‚ùå Error: ${error.message}`;
                document.getElementById('ttsStatus').style.color = '#ff4444';

                // Fallback to browser TTS
                if (confirm('Error con OpenAI TTS. ¬øUsar TTS del navegador como alternativa?')) {
                    // Switch to browser mode
                    const selector = document.getElementById('voiceSelector');
                    selector.value = 'browser:es-ES-female';
                    onVoiceChange();
                    playTTS_Browser();
                }
            }
        }

        function pauseTTS() {
            // Stop browser TTS
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }

            // Stop OpenAI audio
            if (window.currentAudio) {
                window.currentAudio.pause();
                window.currentAudio.currentTime = 0;
            }

            isSpeaking = false;
            document.getElementById('ttsPlay').textContent = '‚ñ∂';
            document.getElementById('ttsPlay').classList.remove('active');
        }

        function stopTTS() {
            // Stop browser TTS
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }

            // Stop OpenAI audio
            if (window.currentAudio) {
                window.currentAudio.pause();
                window.currentAudio.currentTime = 0;
                window.currentAudio = null;
            }

            isSpeaking = false;
            document.getElementById('ttsPlay').textContent = '‚ñ∂';
            document.getElementById('ttsPlay').classList.remove('active');
            document.getElementById('ttsStop').disabled = true;
        }

        function setSpeed(speed) {
            currentSpeed = speed;

            // Update active button
            document.querySelectorAll('.speed-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // If currently speaking, restart with new speed
            if (isSpeaking) {
                stopTTS();
                playTTS();
            }
        }

        // Toggle Sidebar
        function toggleSidebar() {
            const sidebar = document.getElementById('speechSidebar');
            sidebar.classList.toggle('hidden');

            const btn = document.getElementById('toggleSidebar');
            btn.textContent = sidebar.classList.contains('hidden') ? 'üìù Speech' : '‚úñ Ocultar';
        }

        // Keyboard Shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                changeSlide(-1);
            } else if (e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === ' ') {
                e.preventDefault();
                changeSlide(1);
            } else if (e.key === 'Home') {
                showSlide(0);
            } else if (e.key === 'End') {
                showSlide(totalSlides - 1);
            } else if (e.key === 's' || e.key === 'S') {
                toggleSidebar();
            } else if (e.key === 't' || e.key === 'T') {
                toggleTTS();
            }
        });

        // Touch Navigation
        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (touchEndX < touchStartX - 50) {
                changeSlide(1);
            }
            if (touchEndX > touchStartX + 50) {
                changeSlide(-1);
            }
        }

        // Initialize on page load
        window.addEventListener('load', function() {
            // Load voices (some browsers need this)
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = function() {
                    const voices = speechSynthesis.getVoices();
                    // Initialize default browser voice
                    if (!selectedBrowserVoice && voices.length > 0) {
                        selectedBrowserVoice = findBrowserVoice('es-ES-female');
                    }
                };
            }

            // Trigger initial voice selection
            setTimeout(function() {
                onVoiceChange();
            }, 100);

            showSlide(0);
        });
    </script>
</body>
</html>
